<?xml version="1.0" encoding="utf-8"?>
<search>
  <entry>
    <title>A self create Algorithm to link nodes in ARKit</title>
    <url>/2020/04/27/A-self-create-Algorithm-to-link-nodes-in-ARKit/</url>
    <content><![CDATA[<hr>
<p>è¿™æ˜¯æˆ‘çå‘æ˜çš„SCNCylinderé“¾æ¥ARkitæˆ–è€…Scenekitä¸­ä¸¤ä¸ªèŠ‚ç‚¹çš„å°ç®—æ³•ï¼Œå› ä¸ºSCNCylinderä¸èƒ½è®¾ç½®èµ·å§‹ä½ç½®å’Œç»“æŸä½ç½®ï¼Œåªèƒ½é€šè¿‡ä¸‰è§’å‡½æ•°è‡ªå·±æ—‹è½¬ï¼Œä¸‹é¢ä»£ç éœ€è¦çš„ç›´æ¥CVå°±å¥½äº†</p>
<span id="more"></span>

<figure class="highlight swift"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="function"><span class="keyword">func</span> <span class="title">linkTwoNodes</span>(<span class="keyword">_</span> <span class="params">node1</span>: <span class="type">SCNNode</span>, <span class="keyword">_</span> <span class="params">node2</span>: <span class="type">SCNNode</span>, <span class="keyword">_</span> <span class="params">lineNode</span>: <span class="type">SCNNode</span>, <span class="keyword">_</span> <span class="params">line</span>: <span class="type">SCNCylinder</span>)</span> &#123;</span><br><span class="line">        <span class="keyword">let</span> p1 <span class="operator">=</span> node1.position</span><br><span class="line">        <span class="keyword">let</span> p2 <span class="operator">=</span> node2.position</span><br><span class="line">        <span class="keyword">let</span> dx <span class="operator">=</span> p1.x <span class="operator">-</span> p2.x</span><br><span class="line">        <span class="keyword">let</span> dy <span class="operator">=</span> p1.y <span class="operator">-</span> p2.y</span><br><span class="line">        <span class="keyword">let</span> dz <span class="operator">=</span> p1.z <span class="operator">-</span> p2.z</span><br><span class="line">       </span><br><span class="line">        line.height <span class="operator">=</span> get3dDis(node1.position, node2.position)</span><br><span class="line">       </span><br><span class="line">        lineNode.position <span class="operator">=</span> <span class="type">SCNVector3</span>((p1.x<span class="operator">+</span>p2.x)<span class="operator">/</span><span class="number">2</span>, (p1.y<span class="operator">+</span>p2.y)<span class="operator">/</span><span class="number">2</span>, (p1.z<span class="operator">+</span>p2.z)<span class="operator">/</span><span class="number">2</span>)</span><br><span class="line">       </span><br><span class="line">        <span class="keyword">var</span> rotateX: <span class="type">Float</span> <span class="operator">=</span> <span class="number">0</span></span><br><span class="line">        <span class="keyword">var</span> rotateZ: <span class="type">Float</span> <span class="operator">=</span> <span class="number">0</span></span><br><span class="line">       </span><br><span class="line">        <span class="keyword">let</span> crossLen:<span class="type">Float</span> <span class="operator">=</span> <span class="type">Float</span>(<span class="built_in">abs</span>(sqrt(pow(dx, <span class="number">2</span>) <span class="operator">+</span> pow(dy, <span class="number">2</span>))))</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> dy <span class="operator">&gt;</span> <span class="number">0</span> <span class="operator">&amp;&amp;</span> dx <span class="operator">&gt;</span> <span class="number">0</span> &#123;</span><br><span class="line">            rotateZ <span class="operator">=</span> <span class="operator">-</span>atanRotation(len1: dx, len2: dy)</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> dy <span class="operator">&gt;</span> <span class="number">0</span> <span class="operator">&amp;&amp;</span> dx <span class="operator">&lt;</span> <span class="number">0</span> &#123;</span><br><span class="line">            rotateZ <span class="operator">=</span> atanRotation(len1: <span class="operator">-</span>dx, len2: dy)</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> dy <span class="operator">&lt;</span> <span class="number">0</span> <span class="operator">&amp;&amp;</span> dx <span class="operator">&lt;</span> <span class="number">0</span> &#123;</span><br><span class="line">            rotateZ <span class="operator">=</span> <span class="operator">-</span>atanRotation(len1: <span class="operator">-</span>dx, len2: <span class="operator">-</span>dy)</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> dy <span class="operator">&lt;</span> <span class="number">0</span> <span class="operator">&amp;&amp;</span> dx <span class="operator">&gt;</span> <span class="number">0</span> &#123;</span><br><span class="line">            rotateZ <span class="operator">=</span> atanRotation(len1: dx, len2: <span class="operator">-</span>dy)</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> dy <span class="operator">==</span> <span class="number">0</span> &#123;</span><br><span class="line">            rotateZ <span class="operator">=</span> <span class="type">Float</span>.pi <span class="operator">/</span> <span class="number">2</span></span><br><span class="line">        &#125;</span><br><span class="line">       </span><br><span class="line">        <span class="keyword">if</span> dy <span class="operator">&gt;</span> <span class="number">0</span> <span class="operator">&amp;&amp;</span> dz <span class="operator">&lt;</span> <span class="number">0</span> &#123;</span><br><span class="line">            rotateX <span class="operator">=</span> <span class="operator">-</span>atanRotation(len1: <span class="operator">-</span>dz, len2: crossLen)</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> dy <span class="operator">&gt;</span> <span class="number">0</span> <span class="operator">&amp;&amp;</span> dz <span class="operator">&gt;</span> <span class="number">0</span> &#123;</span><br><span class="line">            rotateX <span class="operator">=</span> atanRotation(len1: dz, len2: crossLen)</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> dy <span class="operator">&lt;</span> <span class="number">0</span> <span class="operator">&amp;&amp;</span> dz <span class="operator">&gt;</span> <span class="number">0</span> &#123;</span><br><span class="line">            rotateX <span class="operator">=</span> <span class="operator">-</span>atanRotation(len1: dz, len2: crossLen)</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> dy <span class="operator">&lt;</span> <span class="number">0</span> <span class="operator">&amp;&amp;</span> dz <span class="operator">&lt;</span> <span class="number">0</span> &#123;</span><br><span class="line">            rotateX <span class="operator">=</span> atanRotation(len1: <span class="operator">-</span>dz, len2: crossLen)</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> dy <span class="operator">==</span> <span class="number">0</span> &#123;</span><br><span class="line">            <span class="comment">//mod</span></span><br><span class="line">            <span class="keyword">if</span> dz <span class="operator">!=</span> <span class="number">0</span> &#123;</span><br><span class="line">                rotateX <span class="operator">=</span> <span class="type">Float</span>.pi <span class="operator">/</span> <span class="number">2</span></span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        lineNode.eulerAngles.x <span class="operator">=</span> <span class="type">Float</span>(rotateX)</span><br><span class="line">        lineNode.eulerAngles.z <span class="operator">=</span> <span class="type">Float</span>(rotateZ)</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">func</span> <span class="title">linkTwoNodes</span>(<span class="keyword">_</span> <span class="params">node1</span>: <span class="type">SCNNode</span>, <span class="keyword">_</span> <span class="params">node2</span>: <span class="type">SCNNode</span>, <span class="keyword">_</span> <span class="params">lineNode</span>: <span class="type">SCNNode</span>)</span> &#123;</span><br><span class="line">        <span class="keyword">let</span> p1 <span class="operator">=</span> node1.position</span><br><span class="line">        <span class="keyword">let</span> p2 <span class="operator">=</span> node2.position</span><br><span class="line">        <span class="keyword">let</span> dx <span class="operator">=</span> p1.x <span class="operator">-</span> p2.x</span><br><span class="line">        <span class="keyword">let</span> dy <span class="operator">=</span> p1.y <span class="operator">-</span> p2.y</span><br><span class="line">        <span class="keyword">let</span> dz <span class="operator">=</span> p1.z <span class="operator">-</span> p2.z</span><br><span class="line">       </span><br><span class="line">        lineNode.position <span class="operator">=</span> <span class="type">SCNVector3</span>((p1.x<span class="operator">+</span>p2.x)<span class="operator">/</span><span class="number">2</span>, (p1.y<span class="operator">+</span>p2.y)<span class="operator">/</span><span class="number">2</span>, (p1.z<span class="operator">+</span>p2.z)<span class="operator">/</span><span class="number">2</span>)</span><br><span class="line">       </span><br><span class="line">        <span class="keyword">var</span> rotateX: <span class="type">Float</span> <span class="operator">=</span> <span class="number">0</span></span><br><span class="line">        <span class="keyword">var</span> rotateZ: <span class="type">Float</span> <span class="operator">=</span> <span class="number">0</span></span><br><span class="line">       </span><br><span class="line">        <span class="keyword">let</span> crossLen:<span class="type">Float</span> <span class="operator">=</span> <span class="type">Float</span>(<span class="built_in">abs</span>(sqrt(pow(dx, <span class="number">2</span>) <span class="operator">+</span> pow(dy, <span class="number">2</span>))))</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> dy <span class="operator">&gt;</span> <span class="number">0</span> <span class="operator">&amp;&amp;</span> dx <span class="operator">&gt;</span> <span class="number">0</span> &#123;</span><br><span class="line">            rotateZ <span class="operator">=</span> <span class="operator">-</span>atanRotation(len1: dx, len2: dy)</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> dy <span class="operator">&gt;</span> <span class="number">0</span> <span class="operator">&amp;&amp;</span> dx <span class="operator">&lt;</span> <span class="number">0</span> &#123;</span><br><span class="line">            rotateZ <span class="operator">=</span> atanRotation(len1: <span class="operator">-</span>dx, len2: dy)</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> dy <span class="operator">&lt;</span> <span class="number">0</span> <span class="operator">&amp;&amp;</span> dx <span class="operator">&lt;</span> <span class="number">0</span> &#123;</span><br><span class="line">            rotateZ <span class="operator">=</span> <span class="operator">-</span>atanRotation(len1: <span class="operator">-</span>dx, len2: <span class="operator">-</span>dy)</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> dy <span class="operator">&lt;</span> <span class="number">0</span> <span class="operator">&amp;&amp;</span> dx <span class="operator">&gt;</span> <span class="number">0</span> &#123;</span><br><span class="line">            rotateZ <span class="operator">=</span> atanRotation(len1: dx, len2: <span class="operator">-</span>dy)</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> dy <span class="operator">==</span> <span class="number">0</span> &#123;</span><br><span class="line">            rotateZ <span class="operator">=</span> <span class="type">Float</span>.pi <span class="operator">/</span> <span class="number">2</span></span><br><span class="line">        &#125;</span><br><span class="line">       </span><br><span class="line">        <span class="keyword">if</span> dy <span class="operator">&gt;</span> <span class="number">0</span> <span class="operator">&amp;&amp;</span> dz <span class="operator">&lt;</span> <span class="number">0</span> &#123;</span><br><span class="line">            rotateX <span class="operator">=</span> <span class="operator">-</span>atanRotation(len1: <span class="operator">-</span>dz, len2: crossLen)</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> dy <span class="operator">&gt;</span> <span class="number">0</span> <span class="operator">&amp;&amp;</span> dz <span class="operator">&gt;</span> <span class="number">0</span> &#123;</span><br><span class="line">            rotateX <span class="operator">=</span> atanRotation(len1: dz, len2: crossLen)</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> dy <span class="operator">&lt;</span> <span class="number">0</span> <span class="operator">&amp;&amp;</span> dz <span class="operator">&gt;</span> <span class="number">0</span> &#123;</span><br><span class="line">            rotateX <span class="operator">=</span> <span class="operator">-</span>atanRotation(len1: dz, len2: crossLen)</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> dy <span class="operator">&lt;</span> <span class="number">0</span> <span class="operator">&amp;&amp;</span> dz <span class="operator">&lt;</span> <span class="number">0</span> &#123;</span><br><span class="line">            rotateX <span class="operator">=</span> atanRotation(len1: <span class="operator">-</span>dz, len2: crossLen)</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> dy <span class="operator">==</span> <span class="number">0</span> &#123;</span><br><span class="line">            <span class="comment">//mod</span></span><br><span class="line">            <span class="keyword">if</span> dz <span class="operator">!=</span> <span class="number">0</span> &#123;</span><br><span class="line">                rotateX <span class="operator">=</span> <span class="type">Float</span>.pi <span class="operator">/</span> <span class="number">2</span></span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        lineNode.eulerAngles.x <span class="operator">=</span> <span class="type">Float</span>(rotateX)</span><br><span class="line">        lineNode.eulerAngles.z <span class="operator">=</span> <span class="type">Float</span>(rotateZ)</span><br><span class="line">    &#125;</span><br><span class="line"><span class="keyword">public</span> <span class="function"><span class="keyword">func</span> <span class="title">get3dDis</span>(<span class="keyword">_</span> <span class="params">p1</span>: <span class="type">SCNVector3</span>, <span class="keyword">_</span> <span class="params">p2</span>: <span class="type">SCNVector3</span>)</span> -&gt; <span class="type">CGFloat</span> &#123;</span><br><span class="line">    <span class="keyword">let</span> dx <span class="operator">=</span> p1.x <span class="operator">-</span> p2.x</span><br><span class="line">    <span class="keyword">let</span> dy <span class="operator">=</span> p1.y <span class="operator">-</span> p2.y</span><br><span class="line">    <span class="keyword">let</span> dz <span class="operator">=</span> p1.z <span class="operator">-</span> p2.z</span><br><span class="line">    <span class="keyword">return</span> <span class="type">CGFloat</span>(<span class="built_in">abs</span>(sqrt(pow(dx, <span class="number">2</span>) <span class="operator">+</span> pow(dy, <span class="number">2</span>) <span class="operator">+</span> pow(dz, <span class="number">2</span>))))</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="function"><span class="keyword">func</span> <span class="title">atanRotation</span>(<span class="params">len1</span>: <span class="type">Float</span>, <span class="params">len2</span>: <span class="type">Float</span>)</span> -&gt; <span class="type">Float</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> len2 <span class="operator">==</span> <span class="number">0</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="type">Float</span>.pi <span class="operator">/</span> <span class="number">2</span></span><br><span class="line">    &#125;<span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> len1 <span class="operator">==</span> <span class="number">0</span>&#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="number">0</span></span><br><span class="line">        &#125;<span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="keyword">return</span> atan(len1 <span class="operator">/</span> len2)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

]]></content>
  </entry>
  <entry>
    <title>Definition for singly-linked list</title>
    <url>/2019/04/19/Definition-for-singly-linked-list/</url>
    <content><![CDATA[<hr>
<span id="more"></span>

<h1 id="Definition-for-singly-linked-list"><a href="#Definition-for-singly-linked-list" class="headerlink" title="Definition for singly-linked list"></a>Definition for singly-linked list</h1><img src="/2019/04/19/Definition-for-singly-linked-list/list.png" class="" title="list">

<p>æ¯”æ–¹è¯´æœ‰é“¾è¡¨1:n1 n2 n3 n4<br>æœ‰é“¾è¡¨2:n5 n3 n4<br>å®é™…ä¸Šn3å’Œn4æ˜¯åŒä¸€ä¸ªï¼Œä¹Ÿå°±æ˜¯ä»–ä»¬åœ¨n3æ—¶äº¤å‰çš„</p>
<p><img src="/Users/haoboxuxu/Desktop/blog-md/imgs/list.png" alt="list"></p>
<p>å¦‚æœæ˜¯åˆ†åˆ«éå†ï¼Œå¤æ‚åº¦æ˜¯O(n2)ï¼Œæ¥ä¸‹æ¥ä»‹ç»O(n)è§£æ³•<br>å‡è®¾é•¿çš„é“¾è¡¨ä¸ºlen1ï¼ŒçŸ­çš„ä¸ºlen2<br>é‚£ä¹ˆæŠŠé•¿çš„ç§»åŠ¨len1-len2<br>ç„¶åä¸¤ä¸ªé“¾è¡¨æŒ‡é’ˆå¯ä»¥åŒæ—¶ç§»åŠ¨äº†ï¼Œæ‰¾åˆ°äº¤å‰çš„èŠ‚ç‚¹å°±è¿”å›ï¼Œå¤æ‚åº¦O(n)</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">Node</span>&#123;</span></span><br><span class="line">    <span class="keyword">int</span> val;</span><br><span class="line">    Node* next;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">getLen</span><span class="params">(Node *p)</span></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> len = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">while</span>(p != <span class="literal">NULL</span>)&#123;</span><br><span class="line">        len++;</span><br><span class="line">        p = p-&gt;next;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> len;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function">Node* <span class="title">listMove</span><span class="params">(Node*p, <span class="keyword">int</span> diff)</span></span>&#123;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; diff; i++)&#123;</span><br><span class="line">        p = p-&gt;next;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> p;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function">Node* <span class="title">findCommon</span><span class="params">(Node *l1, Node *l2)</span></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> len1 = <span class="built_in">getLen</span>(l1);</span><br><span class="line">    <span class="keyword">int</span> len2 = <span class="built_in">getLen</span>(l2);</span><br><span class="line">    Node *longListP, *shortListP;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span>(len1 &gt; len2)&#123;</span><br><span class="line">        longListP = l1;</span><br><span class="line">        shortListP = l2;</span><br><span class="line">    &#125; <span class="keyword">else</span>&#123;</span><br><span class="line">        longListP = l2;</span><br><span class="line">        shortListP = l1;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">int</span> diff = <span class="built_in">abs</span>(len1 - len2);</span><br><span class="line">    longListP = <span class="built_in">listMove</span>(longListP, diff);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">while</span>(longListP != <span class="literal">NULL</span>)&#123;</span><br><span class="line">        <span class="keyword">if</span>(longListP == shortListP)&#123;</span><br><span class="line">            <span class="keyword">return</span> longListP;</span><br><span class="line">        &#125;</span><br><span class="line">        longListP = longListP-&gt;next;</span><br><span class="line">        shortListP = shortListP-&gt;next;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">NULL</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    Node n1, n2, n3, n4, n5;</span><br><span class="line">    Node *l1 = &amp;n1, *l2 = &amp;n5;</span><br><span class="line">    n1.val = <span class="number">1</span>;</span><br><span class="line">    n2.val = <span class="number">2</span>;</span><br><span class="line">    n3.val = <span class="number">3</span>;</span><br><span class="line">    n4.val = <span class="number">4</span>;</span><br><span class="line">    n5.val = <span class="number">5</span>;</span><br><span class="line">    n1.next = &amp;n2;</span><br><span class="line">    n2.next = &amp;n3;</span><br><span class="line">    n3.next = &amp;n4;</span><br><span class="line">    n5.next = &amp;n3;</span><br><span class="line"></span><br><span class="line">    cout &lt;&lt; <span class="built_in">findCommon</span>(l1, l2)-&gt;val &lt;&lt; endl;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

]]></content>
  </entry>
  <entry>
    <title>Jump Consistent Hash</title>
    <url>/2020/01/09/Jump-Consistent-Hash/</url>
    <content><![CDATA[<hr>
<p>å¤§ä¸‰ä¸€ä¸ªè¯¾çš„å°ä½œä¸šï¼Œåšå¾—å°è°ƒç ”</p>
<span id="more"></span>

<p>Consistent Hashå°±æ˜¯ä¸ºäº†è§£å†³è´Ÿè½½å‡è¡¡çš„é—®é¢˜ï¼Œå¦‚ä¸‹å›¾ï¼ŒæŠŠä¸åŒèµ„æºçš„è®¿é—®åˆ†é…çš„ä¸åŒçš„æœåŠ¡å™¨ç¼“è§£å‹åŠ›ï¼›ç®—æ³•å°±æ˜¯è§£å†³æœåŠ¡å™¨å’Œæ–‡ä»¶çš„æ˜ å°„</p>
<p>è°ˆåˆ°æ˜ å°„å°±æƒ³åˆ°hashï¼›å¦‚æœä½ æ‰“è¿‡acmï¼Œå°±ä¸å¾—ä¸è¯´ä¸‹é¢çš„å“ˆå¸Œæ–¹æ³•ã€‚</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> ll long long</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> inf 1 &lt;&lt; 30</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> base 233</span></span><br><span class="line">ll mod = inf;</span><br><span class="line"></span><br><span class="line"><span class="function">ll <span class="title">myHash</span><span class="params">(<span class="keyword">char</span> s[])</span></span>&#123;</span><br><span class="line">    ll res = <span class="number">0</span>, len = <span class="built_in">strlen</span>(s);</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; len; i++)&#123;</span><br><span class="line">        res = (base * res + (ll)s[i]) % mod;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> res;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>å­˜åœ¨å¾ˆå¤§çš„é—®é¢˜å°±æ˜¯æœåŠ¡å™¨æ•°é‡ç›¸å½“äºmodï¼Œæ•°é‡æœ‰æ”¹å˜modæ”¹å˜ï¼Œæ•´ä¸ªhashå°±ä¹±å¥—äº†ï¼Œäºæ˜¯ä¹æœ‰äº†Consistent Hashï¼Œè¿™é‡Œä¸è¯¦ç»†è§£é‡Šï¼Œè¿™é‡Œè®²çš„æ˜¯Googleçš„Jump Consistent Hashï¼Œ8è¡Œä»£ç ï¼ŒçŸ­å°ç²¾æ‚ã€‚</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">int32_t</span> <span class="title">JumpConsistentHash</span><span class="params">(<span class="keyword">uint64_t</span> key, <span class="keyword">int32_t</span> num_buckets)</span> </span>&#123;  </span><br><span class="line">    <span class="keyword">int64_t</span> b = <span class="number">-1</span>, j = <span class="number">0</span>;  </span><br><span class="line">    <span class="keyword">while</span> (j &lt; num_buckets) &#123;  </span><br><span class="line">        b = j;  </span><br><span class="line">        key = key * <span class="number">2862933555777941757ULL</span> + <span class="number">1</span>;  </span><br><span class="line">        j = (b + <span class="number">1</span>) * (<span class="built_in"><span class="keyword">double</span></span>(<span class="number">1LL</span> &lt;&lt; <span class="number">31</span>) / <span class="built_in"><span class="keyword">double</span></span>((key &gt;&gt; <span class="number">33</span>) + <span class="number">1</span>));  </span><br><span class="line">    &#125;  </span><br><span class="line">    <span class="keyword">return</span> b;  </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>è¿™ä¹ˆä¸€çœ‹ä½ è‚¯å®šæ˜¯æ‡µé€¼äº†ï¼Œæˆ‘ä¸€æ­¥æ­¥æ¥è§£é‡Šã€‚<br>è¿™é‡Œå…ˆä»¤f(key, n)ä¸ºä¸€è‡´æ€§å“ˆå¸Œç®—æ³•,è¾“å‡ºçš„ä¸º[0,n)ä¹‹é—´çš„æ•°å­—ï¼Œä»£è¡¨æ•°æ®åœ¨å¯¹åº”çš„èŠ‚ç‚¹ä¸Šã€‚</p>
<p>1.n=1æ—¶ï¼Œå¯¹äºä»»æ„çš„keyï¼Œè¾“å‡ºåº”è¯¥éƒ½æ˜¯0ã€‚ï¼ˆæ¯”å¦‚ä½ æœ‰1ä¸ªæœåŠ¡å™¨ï¼Œé‚£ä¹ˆå°±æ˜¯æ— è®ºå¦‚ä½•éƒ½æ˜¯åˆ†é…åˆ°è¿™ä¸ªæœåŠ¡å™¨ä¸Šï¼‰<br>2.n=2æ—¶ï¼Œè´Ÿè½½å‡è¡¡ï¼Œåº”è¯¥æœ‰1/2çš„ç»“æœä¿æŒä¸º0ï¼Œ1/2çš„ç»“æœè¾“å‡ºä¸º1ã€‚<br>3.n=3æ—¶ï¼Œè´Ÿè½½å‡è¡¡ï¼Œåº”è¯¥æœ‰1/3çš„ç»“æœä¿æŒä¸º0ï¼Œ1/3çš„ç»“æœä¿æŒä¸º1ï¼Œ1/3çš„ç»“æœä¿æŒä¸º2ã€‚<br>4.ä¾æ¬¡é€’æ¨ï¼ŒèŠ‚ç‚¹æ•°ç”±nå˜ä¸ºn+1æ—¶ï¼Œf(key, n)é‡Œé¢åº”è¯¥æœ‰n/(n+1)çš„ç»“æœä¸å˜ã€‚<br>ç»“è®ºï¼š<br><strong>æœ‰1/(n+1)çš„ç»“æœå˜ä¸ºn</strong></p>
<p>å¦‚ä¸‹å›¾ï¼Œæœ‰ä¸ªé‡è¦çš„è§„å¾‹ï¼Œåœ¨æŸæ¡ä¸è·³å˜çš„è·¯å¾„ä¸Šï¼Œæ•°å€¼æ˜¯ä¸€æ ·çš„ã€‚</p>
<p>è¿™ä¸ªä½¿ç”¨æ¦‚ç‡å…¬å¼æ¥è¡¨ç¤ºï¼Œå°±æ˜¯è¿™æ ·çš„ä»£ç ï¼Œäºæ˜¯æˆ‘ä»¬å¯ä»¥å¾—åˆ°ä¸‹é¢è¿™ä¸ª<strong>ch</strong></p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">ch</span><span class="params">(<span class="keyword">int</span> key, <span class="keyword">int</span> num_buckets)</span> </span>&#123;  </span><br><span class="line">    random.<span class="built_in">seed</span>(key) ;  </span><br><span class="line">    <span class="keyword">int</span> b = <span class="number">0</span>; <span class="comment">// This will track ch(key, j +1) .  </span></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">1</span>; j &lt; num_buckets; j ++) &#123;  </span><br><span class="line">        <span class="keyword">if</span> (random.<span class="built_in">next</span>() &lt; <span class="number">1.0</span>/(j+<span class="number">1</span>) ) b = j ;  </span><br><span class="line">    &#125;  </span><br><span class="line">    <span class="keyword">return</span> b;  </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>å¢åŠ ä¸€ä¸ªèŠ‚ç‚¹åï¼Œä¸€ä¸ªå›ºå®šçš„keyè¾“å‡ºçš„ç»“æœå‘ç”Ÿäº†æ”¹å˜ã€‚å¿«é€Ÿè®¡ç®—å‡ºè¿™ä¸ªå›ºå®šçš„keyåœ¨å“ªäº›èŠ‚ç‚¹ä¸‹å‘ç”Ÿäº†æ”¹å˜ï¼Œå°±å¯ä»¥å¿«é€Ÿè®¡ç®—å‡ºæœ€ç»ˆç­”æ¡ˆï¼Œå°±æ˜¯Jump Consistent Hashçš„æ€è·¯ã€‚<br>å‡è®¾æŸä¸€æ¬¡ç»“æœæ˜¯bï¼Œç»è¿‡è‹¥å¹²æ¬¡æ¦‚ç‡æµ‹è¯•ï¼Œä¸‹ä¸€æ¬¡æ”¹å˜ä¸ºaï¼Œåˆ™ä»båˆ°a-1è¿™ä¸­é—´ï¼Œä¸ç®¡èŠ‚ç‚¹å¦‚ä½•å˜åŒ–ï¼Œè¿™ä¸ªkeyçš„ç»“æœéƒ½æ˜¯ä¸ä¼šå˜åŒ–çš„ã€‚<br>æ ¹æ®ä¸Šä¸€å°èŠ‚çš„åˆ°çš„æ¦‚ç‡å˜åŒ–å…¬å¼ï¼Œæ–°å¢ä¸€ä¸ªèŠ‚ç‚¹æ•°å­—ä¸å˜åŒ–çš„æ¦‚ç‡æ˜¯n/(n+1)ã€‚<br>é‚£ä»båˆ°iä¸å˜åŒ–çš„æ¦‚ç‡å°±æ˜¯b/iï¼ˆä¸­é—´çš„æŠµæ¶ˆäº†ï¼‰<br>è®¾æœ‰éšæœºå‡½æ•°rï¼Œå½“rå°äºb/iæ—¶ï¼Œf(i)=f(b)ã€‚é‚£ä¹ˆiçš„ä¸Šç•Œå°±æ˜¯(b+1)/rã€‚<br>è¿™ä¸ªä¸Šé™ä¹Ÿæ˜¯ä¸‹ä¸€æ¬¡keyå‘ç”Ÿå˜åŒ–çš„èŠ‚ç‚¹æ•°é‡ï¼Œç”±æ­¤å¯ä»¥å¾—å‡ºä¸‹é¢çš„ä»£ç </p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">ch</span><span class="params">(<span class="keyword">int</span> key, <span class="keyword">int</span> num_buckets)</span> </span>&#123;  </span><br><span class="line">    random. <span class="built_in">seed</span>(key) ;  </span><br><span class="line">    <span class="keyword">int</span> b = <span class="number">-1</span>; <span class="comment">//  bucket number before the previous jump  </span></span><br><span class="line">    <span class="keyword">int</span> j = <span class="number">0</span>; <span class="comment">// bucket number before the current jump  </span></span><br><span class="line">    <span class="keyword">while</span>(j&lt;num_buckets)&#123;  </span><br><span class="line">        b=j;  </span><br><span class="line">        <span class="keyword">double</span> r=random.<span class="built_in">next</span>(); <span class="comment">//  0&lt;r&lt;1.0  </span></span><br><span class="line">        j = <span class="built_in">floor</span>( (b+<span class="number">1</span>) /r);  </span><br><span class="line">    &#125;  </span><br><span class="line">    <span class="keyword">return</span> b;  </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>ç”±äºræ˜¯å‡åŒ€çš„ï¼Œæ‰€ä»¥æœŸæœ›æ˜¯1/2ã€‚<br>è¿™æ ·ï¼Œä»£ç ä¸­jå°±æ˜¯æŒ‰ç…§æŒ‡æ•°çº§å¢é•¿çš„ï¼Œå¹³å‡å¤æ‚åº¦å°±æ˜¯O(log(n))äº†ã€‚</p>
<p>å›å¤´çœ‹çœ‹ç¬¬ä¸€ä¸ªä»£ç ï¼Œå°±å¯ä»¥çœ‹æ‡‚ä»£ç äº†ã€‚</p>
<p>ç¬¬ä¸€ä¸ªkey=key*x+1ç®—æ˜¯ä¸€ä¸ªä¼ªéšæœºç”Ÿæˆå™¨ã€‚<br>è€Œj=(b+1)*x/yåˆ™æ˜¯ä¸Šé¢çš„æ±‚ä¸Šç•Œçš„å…¬å¼ï¼Œå…¶ä¸­y/xé€šè¿‡æµ®ç‚¹æ•°è¿ç®—æ¥äº§ç”Ÿ(0,1)å†…çš„ä¸€ä¸ªéšæœºæ•°ã€‚</p>
<p>æˆ‘ä»¬å¯ä»¥å‘ç°ä¸€å¼€å§‹çš„ä»£ç æ˜¯æ²¡æœ‰random. seedçš„ï¼Œå› ä¸ºç”¨äº†çº¿æ€§åŒä½™</p>
]]></content>
  </entry>
  <entry>
    <title>c/c++å¤šçº¿ç¨‹å’Œçº¿ç¨‹åŒæ­¥</title>
    <url>/2021/05/02/c-c-%E5%A4%9A%E7%BA%BF%E7%A8%8B%E5%92%8C%E7%BA%BF%E7%A8%8B%E5%90%8C%E6%AD%A5/</url>
    <content><![CDATA[<hr>
<p>æ–‡ç« è¿˜æ²¡å†™å®Œå‘¢</p>
<span id="more"></span>

<h1 id="c-c-å¤šçº¿ç¨‹å’Œçº¿ç¨‹åŒæ­¥"><a href="#c-c-å¤šçº¿ç¨‹å’Œçº¿ç¨‹åŒæ­¥" class="headerlink" title="c/c++å¤šçº¿ç¨‹å’Œçº¿ç¨‹åŒæ­¥"></a>c/c++å¤šçº¿ç¨‹å’Œçº¿ç¨‹åŒæ­¥</h1><p>ç¼–è¯‘-læŒ‡å®šåŠ¨æ€é“¾æ¥åº“pthread</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">gcc xxx.c -lpthread -o xxx </span><br></pre></td></tr></table></figure>

<h2 id="1-çº¿ç¨‹åˆ›å»º"><a href="#1-çº¿ç¨‹åˆ›å»º" class="headerlink" title="1.çº¿ç¨‹åˆ›å»º"></a>1.çº¿ç¨‹åˆ›å»º</h2><p>pthread_tæ˜¯longç±»å‹çš„çº¿ç¨‹id<br>pthread_createæ—¶callbackè°ƒç”¨å­çº¿ç¨‹æ‰§è¡Œçš„å‡½æ•°ï¼Œç¬¬å››ä¸ªå‚æ•°æ˜¯callbackä¼ å…¥çš„void* arg<br>sleepè®©å­çº¿ç¨‹æ‰§è¡Œå®Œå†æŒ‚æ–­ä¸»çº¿ç¨‹</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdlib.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;string.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;unistd.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;pthread.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span>* <span class="title">callback</span><span class="params">(<span class="keyword">void</span>* arg)</span> </span>&#123;</span><br><span class="line">	<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">5</span>; i++) &#123;</span><br><span class="line">		<span class="built_in">printf</span>(<span class="string">&quot;å­çº¿ç¨‹i=: %d\n&quot;</span>, i);</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">&quot;å­çº¿ç¨‹id: %ld\n&quot;</span>, pthread_self());</span><br><span class="line">	<span class="keyword">return</span> <span class="literal">NULL</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">	<span class="keyword">pthread_t</span> tid;</span><br><span class="line">	pthread_create(&amp;tid, <span class="literal">NULL</span>, callback, <span class="literal">NULL</span>);</span><br><span class="line">	<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">5</span>; i++) &#123;</span><br><span class="line">		<span class="built_in">printf</span>(<span class="string">&quot;ä¸»çº¿ç¨‹i=: %d\n&quot;</span>, i);</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">&quot;ä¸»çº¿ç¨‹id: %ld\n&quot;</span>, pthread_self());</span><br><span class="line">	sleep(<span class="number">1</span>);</span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="2-çº¿ç¨‹é€€å‡º"><a href="#2-çº¿ç¨‹é€€å‡º" class="headerlink" title="2.çº¿ç¨‹é€€å‡º"></a>2.çº¿ç¨‹é€€å‡º</h2><p>ä¸»çº¿ç¨‹é€€å‡ºï¼Œå­çº¿ç¨‹å˜ä¸»ï¼Œå›æ”¶ç©ºé—´</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdlib.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;string.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;unistd.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;pthread.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span>* <span class="title">callback</span><span class="params">(<span class="keyword">void</span>* arg)</span> </span>&#123;</span><br><span class="line">	<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">5</span>; i++) &#123;</span><br><span class="line">		<span class="built_in">printf</span>(<span class="string">&quot;å­çº¿ç¨‹i=: %d\n&quot;</span>, i);</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">&quot;å­çº¿ç¨‹id: %ld\n&quot;</span>, pthread_self());</span><br><span class="line">	<span class="keyword">return</span> <span class="literal">NULL</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">	<span class="keyword">pthread_t</span> tid;</span><br><span class="line">	pthread_create(&amp;tid, <span class="literal">NULL</span>, callback, <span class="literal">NULL</span>);</span><br><span class="line">	<span class="comment">//for (int i = 0; i &lt; 5; i++) &#123;</span></span><br><span class="line">	<span class="comment">//	printf(&quot;ä¸»çº¿ç¨‹i=: %d\n&quot;, i);</span></span><br><span class="line">	<span class="comment">//&#125;</span></span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">&quot;ä¸»çº¿ç¨‹id: %ld\n&quot;</span>, pthread_self());</span><br><span class="line">	<span class="comment">//sleep(1);</span></span><br><span class="line">	pthread_exit(<span class="literal">NULL</span>);</span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="3-çº¿ç¨‹å›æ”¶"><a href="#3-çº¿ç¨‹å›æ”¶" class="headerlink" title="3.çº¿ç¨‹å›æ”¶"></a>3.çº¿ç¨‹å›æ”¶</h2><p>æ¥å—ä¸ªTestçš„structä½œä¸ºèµ„æº<br>ç›´æ¥åœ¨å­çº¿ç¨‹å¼€struct Test tä¼šå¼€åœ¨æ ˆç©ºé—´ï¼Œå›æ”¶åé‡Šæ”¾äº†ï¼Œä¸»çº¿ç¨‹è‚¯å®šæ‹¿ä¸åˆ°è¿™ä¸ªèµ„æº<br>è¦ä¹ˆï¼šstruct Test tå¼€åœ¨å…¨å±€å˜é‡ï¼Œjoinåæ‹¿åˆ°Testï¼Œç„¶åå¼ºè½¬ä¸‹struct Test* pt = (struct Test*)ptr;<br>è¦ä¹ˆï¼šåœ¨ä¸»çº¿ç¨‹é‡Œå¼€struct Test tï¼Œç„¶åpthread_join(tid, &amp;ptr)ç»™å­çº¿ç¨‹ï¼Œå­çº¿ç¨‹åœ¨argæ‹¿åˆ°ï¼Œä¹Ÿè¦å¼ºè½¬ä¸‹struct Test* t = (struct Test*)arg</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdlib.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;string.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;unistd.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;pthread.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">Test</span> &#123;</span></span><br><span class="line">	<span class="keyword">int</span> num;</span><br><span class="line">	<span class="keyword">int</span> age;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">//struct Test t; //å¼€åœ¨è¿™é‡Œ</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span>* <span class="title">callback</span><span class="params">(<span class="keyword">void</span>* arg)</span> </span>&#123;</span><br><span class="line">	<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">5</span>; i++) &#123;</span><br><span class="line">		<span class="built_in">printf</span>(<span class="string">&quot;å­çº¿ç¨‹i=: %d\n&quot;</span>, i);</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">&quot;å­çº¿ç¨‹id: %ld\n&quot;</span>, pthread_self());</span><br><span class="line"></span><br><span class="line">	<span class="class"><span class="keyword">struct</span> <span class="title">Test</span>* <span class="title">t</span> =</span> (struct Test*)arg;</span><br><span class="line">	t-&gt;num = <span class="number">100</span>;</span><br><span class="line">	t-&gt;age = <span class="number">22</span>;</span><br><span class="line"></span><br><span class="line">	pthread_exit(&amp;t); <span class="comment">//Test tå¦‚æœæ˜¯åœ¨å­çº¿ç¨‹ä¸­å¼€æ ˆç©ºé—´åä¼šè¢«é‡Šæ”¾</span></span><br><span class="line"></span><br><span class="line">	<span class="keyword">return</span> <span class="literal">NULL</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">	<span class="class"><span class="keyword">struct</span> <span class="title">Test</span> <span class="title">t</span>;</span> <span class="comment">//æˆ–è€…å¼€åœ¨è¿™é‡Œ</span></span><br><span class="line">	<span class="keyword">pthread_t</span> tid;</span><br><span class="line">	pthread_create(&amp;tid, <span class="literal">NULL</span>, callback, &amp;t);</span><br><span class="line">	<span class="comment">//for (int i = 0; i &lt; 5; i++) &#123;</span></span><br><span class="line">	<span class="comment">//	printf(&quot;ä¸»çº¿ç¨‹i=: %d\n&quot;, i);</span></span><br><span class="line">	<span class="comment">//&#125;</span></span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">&quot;ä¸»çº¿ç¨‹id: %ld\n&quot;</span>, pthread_self());</span><br><span class="line">	<span class="comment">//sleep(1);</span></span><br><span class="line">	<span class="comment">//pthread_exit(NULL);</span></span><br><span class="line">	<span class="keyword">void</span>* ptr;</span><br><span class="line">	pthread_join(tid, &amp;ptr);</span><br><span class="line">	<span class="comment">//struct Test* pt = (struct Test*)ptr;</span></span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">&quot;%ä¸»çº¿ç¨‹: pt.num=%d, pt.age=%d\n&quot;</span>, t.num, t.age);</span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

]]></content>
  </entry>
  <entry>
    <title>lc206:ReverseLinkedListä¸€äº›ä¹±ä¸ƒå…«ç³Ÿçš„è§£æ³•</title>
    <url>/2020/08/09/lc206-ReverseLinkedList%E4%B8%80%E4%BA%9B%E4%B9%B1%E4%B8%83%E5%85%AB%E7%B3%9F%E7%9A%84%E8%A7%A3%E6%B3%95/</url>
    <content><![CDATA[<hr>
<span id="more"></span>

<p><strong>Example:</strong></p>
<p>â€œ<code> Input: 1-&gt;2-&gt;3-&gt;4-&gt;5-&gt;NULL Output: 5-&gt;4-&gt;3-&gt;2-&gt;1-&gt;NULL â€œ</code></p>
<p><strong>Follow up:</strong></p>
<p>A linked list can be reversed either iteratively or recursively. Could you implement both?</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Definition for singly-linked list.</span></span><br><span class="line"><span class="comment"> * public class ListNode &#123;</span></span><br><span class="line"><span class="comment"> *     int val;</span></span><br><span class="line"><span class="comment"> *     ListNode next;</span></span><br><span class="line"><span class="comment"> *     ListNode() &#123;&#125;</span></span><br><span class="line"><span class="comment"> *     ListNode(int val) &#123; this.val = val; &#125;</span></span><br><span class="line"><span class="comment"> *     ListNode(int val, ListNode next) &#123; this.val = val; this.next = next; &#125;</span></span><br><span class="line"><span class="comment"> * &#125;</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="comment">//å¾ªç¯ï¼ˆå¼€ç©ºé—´ï¼‰</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> ListNode <span class="title">reverseList</span><span class="params">(ListNode head)</span> </span>&#123;</span><br><span class="line">        ListNode dummy = <span class="keyword">null</span>;</span><br><span class="line">        <span class="keyword">while</span> (head != <span class="keyword">null</span>) &#123;</span><br><span class="line">            ListNode temp = <span class="keyword">new</span> ListNode(head.val);</span><br><span class="line">            temp.next = dummy;</span><br><span class="line">            dummy = temp;</span><br><span class="line">            head = head.next;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> dummy;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//å¾ªç¯ï¼ˆä¸å¼€ç©ºé—´ï¼‰</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> ListNode <span class="title">reverseList</span><span class="params">(ListNode head)</span> </span>&#123;</span><br><span class="line">        ListNode dummy = <span class="keyword">null</span>, cur = head;</span><br><span class="line">        <span class="keyword">while</span> (cur != <span class="keyword">null</span>) &#123;</span><br><span class="line">            ListNode next = cur.next;</span><br><span class="line">            cur.next = dummy;</span><br><span class="line">            dummy = cur;</span><br><span class="line">            cur = next;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> dummy;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//é€’å½’</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> ListNode <span class="title">reverseList</span><span class="params">(ListNode head)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (head == <span class="keyword">null</span> || head.next == <span class="keyword">null</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> head;</span><br><span class="line">        &#125;</span><br><span class="line">        ListNode dummy = reverseList(head.next);</span><br><span class="line">        head.next.next = head;</span><br><span class="line">        head.next = <span class="keyword">null</span>;</span><br><span class="line">        <span class="keyword">return</span> dummy;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

]]></content>
  </entry>
  <entry>
    <title>lcå¥‡å¥‡æ€ªæ€ªçš„æœç´¢ï¼ˆæ— è¥å…»çš„ğŸŸï¼‰</title>
    <url>/2020/08/22/lc%E5%A5%87%E5%A5%87%E6%80%AA%E6%80%AA%E7%9A%84%E6%90%9C%E7%B4%A2%EF%BC%88%E6%97%A0%E8%90%A5%E5%85%BB%E7%9A%84%F0%9F%90%9F%EF%BC%89/</url>
    <content><![CDATA[<hr>
<p>lcçš„dfså’Œbfsåˆé›†</p>
<span id="more"></span>

<h5 id="79-Word-Search"><a href="#79-Word-Search" class="headerlink" title="79. Word Search"></a>79. Word Search</h5><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span> n, m;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">exist</span><span class="params">(<span class="keyword">char</span>[][] board, String word)</span> </span>&#123;</span><br><span class="line">        n = board.length;</span><br><span class="line">        m = board[<span class="number">0</span>].length;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; n; i++) &#123;</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; m; j++) &#123;</span><br><span class="line">                <span class="keyword">if</span> (board[i][j] == word.charAt(<span class="number">0</span>) &amp;&amp; bfs(i, j, <span class="number">0</span>, board, word)) &#123;</span><br><span class="line">                    <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">boolean</span> <span class="title">check</span><span class="params">(<span class="keyword">int</span> i, <span class="keyword">int</span> j, <span class="keyword">int</span> index, <span class="keyword">char</span>[][] board, String word)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (i &lt; <span class="number">0</span> || i &gt;= n || j &lt; <span class="number">0</span> || j &gt;= m || board[i][j] != word.charAt(index)) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">boolean</span> <span class="title">bfs</span><span class="params">(<span class="keyword">int</span> i, <span class="keyword">int</span> j, <span class="keyword">int</span> index, <span class="keyword">char</span>[][] board, String word)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (index == word.length()) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (!check(i, j, index, board, word)) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">char</span> temp = board[i][j];</span><br><span class="line">        board[i][j] = <span class="string">&#x27; &#x27;</span>;</span><br><span class="line">        <span class="keyword">boolean</span> res = bfs(i-<span class="number">1</span>, j, index+<span class="number">1</span>, board, word) ||</span><br><span class="line">                      bfs(i+<span class="number">1</span>, j, index+<span class="number">1</span>, board, word) ||</span><br><span class="line">                      bfs(i, j+<span class="number">1</span>, index+<span class="number">1</span>, board, word) ||</span><br><span class="line">                      bfs(i, j-<span class="number">1</span>, index+<span class="number">1</span>, board, word);</span><br><span class="line">        board[i][j] = temp;</span><br><span class="line">        <span class="keyword">return</span> res;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h5 id="695-Max-Area-of-Island"><a href="#695-Max-Area-of-Island" class="headerlink" title="695. Max Area of Island"></a>695. Max Area of Island</h5><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span> area = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">int</span> n;</span><br><span class="line">    <span class="keyword">int</span> m;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">maxAreaOfIsland</span><span class="params">(<span class="keyword">int</span>[][] grid)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (grid == <span class="keyword">null</span> || grid.length == <span class="number">0</span>) <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">        n = grid.length;</span><br><span class="line">        m = grid[<span class="number">0</span>].length;</span><br><span class="line">        <span class="keyword">boolean</span>[][] vis = <span class="keyword">new</span> <span class="keyword">boolean</span>[n][m];</span><br><span class="line">        <span class="keyword">int</span> res = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; n; i++) &#123;</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; m; j++) &#123;</span><br><span class="line">                <span class="keyword">if</span> (!vis[i][j] || grid[i][j] == <span class="number">1</span>) &#123;</span><br><span class="line">                    area = <span class="number">0</span>;</span><br><span class="line">                    dfs(i, j, grid, vis);</span><br><span class="line">                    res = Math.max(area, res);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> res;</span><br><span class="line">    &#125;</span><br><span class="line">   </span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">boolean</span> <span class="title">check</span><span class="params">(<span class="keyword">int</span> i, <span class="keyword">int</span> j, <span class="keyword">int</span>[][] grid, <span class="keyword">boolean</span>[][] vis)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (i &lt; <span class="number">0</span> || i &gt;= n || j &lt; <span class="number">0</span> || j &gt;= m || vis[i][j]) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">dfs</span><span class="params">(<span class="keyword">int</span> i, <span class="keyword">int</span> j, <span class="keyword">int</span>[][] grid, <span class="keyword">boolean</span>[][] vis)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (!check(i, j, grid, vis)) &#123;</span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (grid[i][j] == <span class="number">0</span>) &#123;</span><br><span class="line">            vis[i][j] = <span class="keyword">true</span>;</span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        vis[i][j] = <span class="keyword">true</span>;</span><br><span class="line">        area += <span class="number">1</span>;</span><br><span class="line">        dfs(i+<span class="number">1</span>, j, grid, vis);</span><br><span class="line">        dfs(i-<span class="number">1</span>, j, grid, vis);</span><br><span class="line">        dfs(i, j+<span class="number">1</span>, grid, vis);</span><br><span class="line">        dfs(i, j-<span class="number">1</span>, grid, vis);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h5 id="200-Number-of-Islands"><a href="#200-Number-of-Islands" class="headerlink" title="200. Number of Islands"></a>200. Number of Islands</h5><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span> n;</span><br><span class="line">    <span class="keyword">int</span> m;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">numIslands</span><span class="params">(<span class="keyword">char</span>[][] grid)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (grid == <span class="keyword">null</span> || grid.length == <span class="number">0</span>) <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">        n = grid.length;</span><br><span class="line">        m = grid[<span class="number">0</span>].length;</span><br><span class="line">        <span class="keyword">int</span> res = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; n; i++) &#123;</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; m; j++) &#123;</span><br><span class="line">                <span class="keyword">if</span> (grid[i][j] != <span class="string">&#x27;0&#x27;</span>) &#123;</span><br><span class="line">                    dfs(i, j, grid);</span><br><span class="line">                    res += <span class="number">1</span>;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> res;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">boolean</span> <span class="title">check</span><span class="params">(<span class="keyword">int</span> i, <span class="keyword">int</span> j, <span class="keyword">char</span>[][] grid)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (i &lt; <span class="number">0</span> || i &gt;= n || j &lt; <span class="number">0</span> || j &gt;= m || grid[i][j] == <span class="string">&#x27;0&#x27;</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">dfs</span><span class="params">(<span class="keyword">int</span> i, <span class="keyword">int</span> j, <span class="keyword">char</span>[][] grid)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (!check(i, j, grid)) &#123;</span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        grid[i][j] = <span class="string">&#x27;0&#x27;</span>;</span><br><span class="line">        dfs(i+<span class="number">1</span>, j, grid);</span><br><span class="line">        dfs(i-<span class="number">1</span>, j, grid);</span><br><span class="line">        dfs(i, j+<span class="number">1</span>, grid);</span><br><span class="line">        dfs(i, j-<span class="number">1</span>, grid);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h5 id="547-Friend-Circles"><a href="#547-Friend-Circles" class="headerlink" title="547. Friend Circles"></a>547. Friend Circles</h5><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span> n;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">findCircleNum</span><span class="params">(<span class="keyword">int</span>[][] M)</span> </span>&#123;</span><br><span class="line">        n = M.length;</span><br><span class="line">        <span class="keyword">boolean</span>[] vis = <span class="keyword">new</span> <span class="keyword">boolean</span>[n];</span><br><span class="line">        <span class="keyword">int</span> res = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; n; i++) &#123;</span><br><span class="line">            <span class="keyword">if</span> (!vis[i]) &#123;</span><br><span class="line">                dfs(M, vis, i);</span><br><span class="line">                res += <span class="number">1</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> res;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">dfs</span><span class="params">(<span class="keyword">int</span>[][] M, <span class="keyword">boolean</span>[] vis, <span class="keyword">int</span> i)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (vis[i]) &#123;</span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        vis[i] = <span class="keyword">true</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; n; j++) &#123;</span><br><span class="line">            <span class="keyword">if</span> (M[i][j] == <span class="number">1</span> &amp;&amp; !vis[j]) &#123;</span><br><span class="line">                dfs(M, vis, j);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
  </entry>
  <entry>
    <title>å‰åº/ä¸­åºéå†è¿˜åŸäºŒå‰æ ‘</title>
    <url>/2019/03/13/%E5%89%8D%E5%BA%8F-%E4%B8%AD%E5%BA%8F%E9%81%8D%E5%8E%86%E8%BF%98%E5%8E%9F%E4%BA%8C%E5%8F%89%E6%A0%91/</url>
    <content><![CDATA[<hr>
<span id="more"></span>

<img src="/2019/03/13/%E5%89%8D%E5%BA%8F-%E4%B8%AD%E5%BA%8F%E9%81%8D%E5%8E%86%E8%BF%98%E5%8E%9F%E4%BA%8C%E5%8F%89%E6%A0%91/%E5%89%8D%E5%BA%8F-%E4%B8%AD%E5%BA%8F%E9%81%8D%E5%8E%86%E8%BF%98%E5%8E%9F%E4%BA%8C%E5%8F%89%E6%A0%91_1.jpg" class="" title="å‰åº-ä¸­åºéå†è¿˜åŸäºŒå‰æ ‘_1">

<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cmath&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;string&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> maxn = <span class="number">2000</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> pre[maxn];</span><br><span class="line"><span class="keyword">int</span> in[maxn];</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">node</span>&#123;</span></span><br><span class="line">    <span class="keyword">int</span> date;</span><br><span class="line">    node *left_child;</span><br><span class="line">    node *right_child;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function">node* <span class="title">create</span><span class="params">(<span class="keyword">int</span> preL, <span class="keyword">int</span> preR, <span class="keyword">int</span> inL, <span class="keyword">int</span> inR)</span></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(preL &gt; preR)&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">NULL</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    node *root = <span class="keyword">new</span> node;</span><br><span class="line">    root-&gt;date = pre[preL];</span><br><span class="line">    <span class="keyword">int</span> i;</span><br><span class="line">    <span class="keyword">for</span>(i = inL; i &lt;= inR; i++)&#123;</span><br><span class="line">        <span class="keyword">if</span>(in[i] == root-&gt;date)&#123;</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">int</span> left_len = i - inL;</span><br><span class="line">    root-&gt;left_child = <span class="built_in">create</span>(preL+<span class="number">1</span>, preR+left_len, inL, i<span class="number">-1</span>);</span><br><span class="line">    root-&gt;right_child = <span class="built_in">create</span>(preL+left_len+<span class="number">1</span>+<span class="number">1</span>, preR, i+<span class="number">1</span>, inR);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> root;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

]]></content>
  </entry>
  <entry>
    <title>åŠ›æ‰£23</title>
    <url>/2019/04/25/%E5%8A%9B%E6%89%A323/</url>
    <content><![CDATA[<hr>
<span id="more"></span>

<h1 id="åŠ›æ‰£23"><a href="#åŠ›æ‰£23" class="headerlink" title="åŠ›æ‰£23"></a>åŠ›æ‰£23</h1><p>hardï¼Œkè·¯æœ‰åºliståˆå¹¶ï¼Œåˆ†æ²»æ€æƒ³ï¼Œmergesortç±»ä¼¼ O(nlogk)ã€‚</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> ListNode <span class="title">mergeKLists</span><span class="params">(ListNode[] lists)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (lists == <span class="keyword">null</span> || lists.length == <span class="number">0</span>)</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">null</span>;</span><br><span class="line">        <span class="keyword">return</span> sort(lists, <span class="number">0</span>, lists.length - <span class="number">1</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> ListNode <span class="title">sort</span><span class="params">(ListNode[] lists, <span class="keyword">int</span> low, <span class="keyword">int</span> high)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (low &gt; high) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">null</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (low == high) &#123;</span><br><span class="line">            <span class="keyword">return</span> lists[low];</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">int</span> mid = (high - low) / <span class="number">2</span> + low;</span><br><span class="line">        ListNode l1 = sort(lists, low, mid);</span><br><span class="line">        ListNode l2 = sort(lists, mid + <span class="number">1</span>, high);</span><br><span class="line">        <span class="keyword">return</span> merge(l1, l2);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> ListNode <span class="title">merge</span><span class="params">(ListNode l1, ListNode l2)</span> </span>&#123;</span><br><span class="line">        <span class="comment">/*</span></span><br><span class="line"><span class="comment">        if (l1 == null)</span></span><br><span class="line"><span class="comment">            return l2;</span></span><br><span class="line"><span class="comment">        if (l2 == null)</span></span><br><span class="line"><span class="comment">            return l1;</span></span><br><span class="line"><span class="comment">        if (l1.val &lt; l2.val) &#123;</span></span><br><span class="line"><span class="comment">            l1.next = merge(l1.next, l2);</span></span><br><span class="line"><span class="comment">            return l1;</span></span><br><span class="line"><span class="comment">        &#125;</span></span><br><span class="line"><span class="comment">        l2.next = merge(l1, l2.next);</span></span><br><span class="line"><span class="comment">        return l2;</span></span><br><span class="line"><span class="comment">        */</span></span><br><span class="line">        ListNode temp = <span class="keyword">new</span> ListNode(<span class="number">0</span>);</span><br><span class="line">        ListNode runner = temp;;</span><br><span class="line">       </span><br><span class="line">        <span class="keyword">while</span>(l1 != <span class="keyword">null</span> &amp;&amp; l2 != <span class="keyword">null</span>) &#123;</span><br><span class="line">            <span class="keyword">if</span>(l1.val &lt; l2.val) &#123;</span><br><span class="line">                runner.next = l1;</span><br><span class="line">                l1 = l1.next;</span><br><span class="line">                runner = runner.next;</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                runner.next = l2;</span><br><span class="line">                l2 = l2.next;</span><br><span class="line">                runner = runner.next;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">       </span><br><span class="line">        <span class="keyword">if</span>(l1 == <span class="keyword">null</span> &amp;&amp; l2 == <span class="keyword">null</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> temp.next;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span>(l1 == <span class="keyword">null</span>) &#123;</span><br><span class="line">            runner.next = l2;</span><br><span class="line">        &#125;<span class="keyword">else</span> &#123;</span><br><span class="line">            runner.next = l1;</span><br><span class="line">        &#125;</span><br><span class="line">       </span><br><span class="line">        <span class="keyword">return</span> temp.next;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>2è·¯â€”â€”merge</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">include &lt;iostream&gt;</span><br><span class="line">#include &lt;algorithm&gt;</span><br><span class="line">using namespace std;</span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> maxn = <span class="number">100</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">merge</span><span class="params">(<span class="keyword">int</span> A[], <span class="keyword">int</span> L, <span class="keyword">int</span> M, <span class="keyword">int</span> R)</span></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> i = L, j = M + <span class="number">1</span>, index = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">int</span> *temp = (<span class="keyword">int</span> *)malloc((R - L + <span class="number">1</span>) * sizeof(<span class="keyword">int</span>));</span><br><span class="line">    <span class="keyword">while</span>(i &lt;= M &amp;&amp; j &lt;= R)&#123;</span><br><span class="line">        <span class="keyword">if</span>(A[i] &lt;= A[j])&#123;</span><br><span class="line">            temp[index++] = A[i++];</span><br><span class="line">        &#125; <span class="keyword">else</span>&#123;</span><br><span class="line">            temp[index++] = A[j++];</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">while</span>(i &lt;= M)&#123;</span><br><span class="line">        temp[index++] = A[i++];</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">while</span>(j &lt;= R)&#123;</span><br><span class="line">        temp[index++] = A[j++];</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span>(i = <span class="number">0</span>; i &lt; index; i++)&#123;</span><br><span class="line">        A[L + i] = temp[i];</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">merge_sort</span><span class="params">(<span class="keyword">int</span> A[], <span class="keyword">int</span> left, <span class="keyword">int</span> right)</span></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(left &lt; right)&#123;</span><br><span class="line">        <span class="keyword">int</span> mid = (left + right) / <span class="number">2</span>;</span><br><span class="line">        merge_sort(A, left, mid);</span><br><span class="line">        merge_sort(A, mid + <span class="number">1</span>, right);</span><br><span class="line">        merge(A, left, mid, right);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> A[] = &#123;<span class="number">1</span>,<span class="number">2</span>,<span class="number">9</span>,<span class="number">7</span>,<span class="number">5</span>,<span class="number">6</span>&#125;;</span><br><span class="line">    merge_sort(A, <span class="number">0</span>, <span class="number">5</span>);</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">6</span>; i++)&#123;</span><br><span class="line">        cout &lt;&lt; A[i] &lt;&lt; <span class="string">&quot; &quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



]]></content>
  </entry>
  <entry>
    <title>åŠ›æ‰£34</title>
    <url>/2019/05/26/%E5%8A%9B%E6%89%A334/</url>
    <content><![CDATA[<hr>
<span id="more"></span>

<h1 id="åŠ›æ‰£34"><a href="#åŠ›æ‰£34" class="headerlink" title="åŠ›æ‰£34"></a>åŠ›æ‰£34</h1><p>äºŒåˆ†çš„å¾ˆå¥½çš„åº”ç”¨ã€‚<br>(i.e., [0,1,2,4,5,6,7] might become [4,5,6,7,0,1,2]).<br>å¯ä»¥çœ‹åˆ°äºŒåˆ†çš„å‰åŠæ®µå¯èƒ½æ˜¯ä¸¤æ¬¡æˆ–ä¸€æ¬¡é€’å¢<br>å¦‚æœtarget &gt; nums[start] å¹¶ä¸” target &lt; nums[mid]ï¼Œé‚£ä¹ˆtargetåœ¨å‰åŠéƒ¨åˆ†ã€‚ ååŠéƒ¨åˆ†åŒç†ã€‚</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">search</span><span class="params">(<span class="keyword">int</span>[] nums, <span class="keyword">int</span> target)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(nums == <span class="keyword">null</span> || nums.length == <span class="number">0</span>) <span class="keyword">return</span> -<span class="number">1</span>;</span><br><span class="line">        <span class="keyword">int</span> start = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">int</span> end = nums.length - <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">while</span>(start + <span class="number">1</span>&lt; end) &#123;</span><br><span class="line">            <span class="keyword">int</span> mid = (end - start)/<span class="number">2</span> + start;</span><br><span class="line">            <span class="keyword">if</span>(nums[mid] == target) <span class="keyword">return</span> mid;</span><br><span class="line">            <span class="keyword">if</span>(nums[start] &lt; nums[mid]) &#123;</span><br><span class="line">                <span class="keyword">if</span>(nums[start] &lt;= target &amp;&amp; target &lt;= nums[mid]) &#123;</span><br><span class="line">                    end = mid;</span><br><span class="line">                &#125;<span class="keyword">else</span> &#123;</span><br><span class="line">                    start = mid;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;<span class="keyword">else</span> &#123;</span><br><span class="line">                <span class="keyword">if</span>(nums[mid] &lt;= target &amp;&amp; target &lt;= nums[end]) &#123;</span><br><span class="line">                    start = mid;</span><br><span class="line">                &#125;<span class="keyword">else</span> &#123;</span><br><span class="line">                    end = mid;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span>(nums[start] == target) &#123;</span><br><span class="line">            <span class="keyword">return</span> start;</span><br><span class="line">        &#125;<span class="keyword">else</span> <span class="keyword">if</span>(nums[end] == target) &#123;</span><br><span class="line">            <span class="keyword">return</span> end;</span><br><span class="line">        &#125;<span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="keyword">return</span> -<span class="number">1</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

]]></content>
  </entry>
  <entry>
    <title>å¥‡å¥‡æ€ªæ€ªçš„äºŒåˆ†ï¼ˆæ— è¥å…»æ‘¸ğŸŸæ–‡ï¼‰</title>
    <url>/2020/08/18/%E5%A5%87%E5%A5%87%E6%80%AA%E6%80%AA%E7%9A%84%E4%BA%8C%E5%88%86%EF%BC%88%E6%97%A0%E8%90%A5%E5%85%BB%E6%91%B8%F0%9F%90%9F%E6%96%87%EF%BC%89/</url>
    <content><![CDATA[<hr>
<span id="more"></span>

<h1 id="å¥‡å¥‡æ€ªæ€ªçš„äºŒåˆ†ï¼ˆæ— è¥å…»æ‘¸ğŸŸæ–‡ï¼‰"><a href="#å¥‡å¥‡æ€ªæ€ªçš„äºŒåˆ†ï¼ˆæ— è¥å…»æ‘¸ğŸŸæ–‡ï¼‰" class="headerlink" title="å¥‡å¥‡æ€ªæ€ªçš„äºŒåˆ†ï¼ˆæ— è¥å…»æ‘¸ğŸŸæ–‡ï¼‰"></a>å¥‡å¥‡æ€ªæ€ªçš„äºŒåˆ†ï¼ˆæ— è¥å…»æ‘¸ğŸŸæ–‡ï¼‰</h1><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">int</span> <span class="title">lower_bound</span><span class="params">(<span class="keyword">int</span>[] nums, <span class="keyword">int</span> key)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> l = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">int</span> r = nums.length - <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">while</span> (l &lt; r) &#123;</span><br><span class="line">            <span class="keyword">int</span> mid = l + (r - l) / <span class="number">2</span>;</span><br><span class="line">            <span class="keyword">if</span> (nums[mid] &gt;= key) &#123;</span><br><span class="line">                r = mid;</span><br><span class="line">            &#125;<span class="keyword">else</span> <span class="keyword">if</span> (nums[mid] &lt; key) &#123;</span><br><span class="line">                l = mid + <span class="number">1</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> l;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">int</span> <span class="title">upper_bound</span><span class="params">(<span class="keyword">int</span>[] nums, <span class="keyword">int</span> key)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> l = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">int</span> r = nums.length;</span><br><span class="line">        <span class="keyword">while</span> (l &lt; r) &#123;</span><br><span class="line">            <span class="keyword">int</span> mid = l + (r - l) / <span class="number">2</span>;</span><br><span class="line">            <span class="keyword">if</span> (nums[mid] &lt;= key) &#123;</span><br><span class="line">                l = mid + <span class="number">1</span>;</span><br><span class="line">            &#125;<span class="keyword">else</span> <span class="keyword">if</span> (nums[mid] &gt; key) &#123;</span><br><span class="line">                r = mid;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> l;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">int</span> <span class="title">upper_bound2</span><span class="params">(<span class="keyword">int</span>[] nums,<span class="keyword">int</span> l,<span class="keyword">int</span> r,<span class="keyword">int</span> v)</span></span>&#123;</span><br><span class="line">        <span class="keyword">while</span>(l&lt;r)&#123;</span><br><span class="line">            <span class="keyword">int</span> m = l + (r - l) / <span class="number">2</span>;</span><br><span class="line">            <span class="keyword">if</span>(nums[m] &lt;= v) l = m+<span class="number">1</span>;</span><br><span class="line">            <span class="keyword">else</span> <span class="keyword">if</span>(nums[m] &gt; v) r = m;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> l;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span>[] nums = &#123;<span class="number">1</span>, <span class="number">1</span>, <span class="number">2</span>, <span class="number">2</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">4</span>, <span class="number">4</span>&#125;;</span><br><span class="line">        System.out.println(lower_bound(nums, <span class="number">2</span>));</span><br><span class="line">        System.out.println(upper_bound(nums, <span class="number">2</span>));</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

]]></content>
  </entry>
  <entry>
    <title>å®ç°ä¸€ä¸ªç®€å•neural networks</title>
    <url>/2019/10/09/%E5%AE%9E%E7%8E%B0%E4%B8%80%E4%B8%AA%E7%AE%80%E5%8D%95neural-networks/</url>
    <content><![CDATA[<hr>
<span id="more"></span>

<p><a href="https://github.com/haoboxuxu/Tensorflow-Theory/blob/master/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0%E7%AE%97%E6%B3%95%E5%AE%9E%E7%8E%B0/9_%E6%89%8B%E5%86%99%E7%A5%9E%E7%BB%8F%E7%BD%91%E7%BB%9C.py">æºä»£ç </a><br>å…ˆå®šä¹‰ä¸€äº›æ•°æ®ï¼ŒXå’Œy</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">X = np.array([[<span class="number">0</span>, <span class="number">0</span>, <span class="number">1</span>],</span><br><span class="line">              [<span class="number">0</span>, <span class="number">1</span>, <span class="number">1</span>],</span><br><span class="line">              [<span class="number">1</span>, <span class="number">0</span>, <span class="number">1</span>],</span><br><span class="line">              [<span class="number">1</span>, <span class="number">1</span>, <span class="number">1</span>]])</span><br><span class="line">y = np.array([[<span class="number">0</span>],</span><br><span class="line">              [<span class="number">1</span>],</span><br><span class="line">              [<span class="number">1</span>],</span><br><span class="line">              [<span class="number">0</span>]])</span><br></pre></td></tr></table></figure>

<p>ç„¶åæ˜¯sigmoidæ¿€æ´»å‡½æ•°ï¼Œderiv trueæ˜¯å‰å‘ä¼ æ’­ï¼Œå°±æ˜¯å¸¸è§çš„sigmoidï¼Œderiv falseä¸ºåå‘ä¼ æ’­ï¼Œå°±æ˜¯sigmoidæ±‚å¯¼çš„ç»“æœï¼Œå¦‚æœä¸æ˜ç™½ä¸ºä»€ä¹ˆæ˜¯x*(1-x)ï¼Œå¯ä»¥çœ‹å¦‚ä¸‹çš„æ±‚å¯¼ï¼Œè¿™é‡Œçš„xæ˜¯sigmoid(x)</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">sigmoid</span>(<span class="params">x, deriv=<span class="literal">False</span></span>):</span></span><br><span class="line">    <span class="keyword">if</span> deriv == <span class="literal">True</span>:</span><br><span class="line">        <span class="keyword">return</span> x * (<span class="number">1</span> - x)</span><br><span class="line">    <span class="keyword">return</span> <span class="number">1</span> / (<span class="number">1</span> + np.exp(-x))</span><br></pre></td></tr></table></figure>

<img src="/2019/10/09/%E5%AE%9E%E7%8E%B0%E4%B8%80%E4%B8%AA%E7%AE%80%E5%8D%95neural-networks/%E5%AE%9E%E7%8E%B0%E4%B8%80%E4%B8%AA%E7%AE%80%E5%8D%95neural-networks_1.jpg" class="" title="å®ç°ä¸€ä¸ªç®€å•neural-networks_1">

<p>åšä¸€ä¸ªä¸¤å±‚çš„nnï¼Œè¿™é‡Œçš„w0å’Œw1æ˜ å°„åˆ°ï¼ˆ-1ï¼Œ1ï¼‰ï¼Œæ‰€ä»¥åšäº†<em>2å’Œ+1æ“ä½œï¼Œæ³¨æ„ç»´åº¦ï¼Œw0æ˜¯å’ŒXç›¸ä¹˜ï¼Œw1æ˜¯å’Œï¼ˆw0</em>Xï¼‰ç»“æœç›¸ä¹˜ã€‚</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">w0 = <span class="number">2</span> * np.random.random((<span class="number">3</span>, <span class="number">4</span>)) - <span class="number">1</span></span><br><span class="line">w1 = <span class="number">2</span> * np.random.random((<span class="number">4</span>, <span class="number">1</span>)) - <span class="number">1</span></span><br></pre></td></tr></table></figure>

<p>ç„¶åæˆ‘ä»¬è¿­ä»£ä¸€ä¸‹ï¼Œè¿™é‡Œçš„l1å’Œl2æ˜¯æ­£å‘ï¼Œéœ€è¦sigmoidã€‚ç„¶ålosså°±æ˜¯y â€“ l2<br>l2_deltaæ˜¯åå‘ï¼Œè¿™é‡Œæ±‚å¯¼ï¼Œl1_errorå’Œæœ€åçš„lossæ˜¯åŒç†çš„ï¼Œè¿™ä¸¤ä¸ªsigmoidä¼ å…¥éƒ½æ˜¯falseã€‚</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">for</span> j <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">50000</span>):</span><br><span class="line">    l0 = X</span><br><span class="line">    l1 = sigmoid(np.dot(l0, w0))</span><br><span class="line">    l2 = sigmoid(np.dot(l1, w1))</span><br><span class="line"></span><br><span class="line">    l2_error = y - l2</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (j % <span class="number">100</span>) == <span class="number">0</span>:</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&quot;err = &quot;</span> + <span class="built_in">str</span>(np.mean(np.<span class="built_in">abs</span>(l2_error))))</span><br><span class="line"></span><br><span class="line">    l2_delta = l2_error * sigmoid(l2, <span class="literal">True</span>)</span><br><span class="line"></span><br><span class="line">    l1_error = l2_delta.dot(w1.T)</span><br><span class="line">    l1_delta = l1_error * sigmoid(l1, <span class="literal">True</span>)</span><br><span class="line"></span><br><span class="line">    w1 += l1.T.dot(l2_delta)</span><br><span class="line">    w0 += l0.T.dot(l1_delta)</span><br></pre></td></tr></table></figure>

]]></content>
  </entry>
  <entry>
    <title>æ ‘çš„å„ç§éå†</title>
    <url>/2020/05/07/%E6%A0%91%E7%9A%84%E5%90%84%E7%A7%8D%E9%81%8D%E5%8E%86/</url>
    <content><![CDATA[<hr>
<span id="more"></span>

<h5 id="TreeNode"><a href="#TreeNode" class="headerlink" title="TreeNode"></a>TreeNode</h5><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">TreeNode</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span> val;</span><br><span class="line">    TreeNode left;</span><br><span class="line">    TreeNode right;</span><br><span class="line">    TreeNode(<span class="keyword">int</span> val) &#123;</span><br><span class="line">        <span class="keyword">this</span>.val = val;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h5 id="é€’å½’"><a href="#é€’å½’" class="headerlink" title="é€’å½’"></a>é€’å½’</h5><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">TreeTraverse</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">static</span> List&lt;TreeNode&gt; preList = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">    <span class="keyword">static</span> List&lt;TreeNode&gt; inList = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">    <span class="keyword">static</span> List&lt;TreeNode&gt; postList = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">preOrder</span><span class="params">(TreeNode root)</span> </span>&#123;</span><br><span class="line">        preList.add(root);</span><br><span class="line">        <span class="keyword">if</span> (root.left != <span class="keyword">null</span>) &#123;</span><br><span class="line">            preOrder(root.left);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (root.right != <span class="keyword">null</span>) &#123;</span><br><span class="line">            preOrder(root.right);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">inOrder</span><span class="params">(TreeNode root)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (root.left != <span class="keyword">null</span>) &#123;</span><br><span class="line">            inOrder(root.left);</span><br><span class="line">        &#125;</span><br><span class="line">        inList.add(root);</span><br><span class="line">        <span class="keyword">if</span> (root.right != <span class="keyword">null</span>) &#123;</span><br><span class="line">            inOrder(root.right);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">postOrder</span><span class="params">(TreeNode root)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (root.left != <span class="keyword">null</span>) &#123;</span><br><span class="line">            postOrder(root.left);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (root.right != <span class="keyword">null</span>) &#123;</span><br><span class="line">            postOrder(root.right);</span><br><span class="line">        &#125;</span><br><span class="line">        postList.add(root);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        TreeNode node1 = <span class="keyword">new</span> TreeNode(<span class="number">1</span>);</span><br><span class="line">        TreeNode node2 = <span class="keyword">new</span> TreeNode(<span class="number">2</span>);</span><br><span class="line">        TreeNode node3 = <span class="keyword">new</span> TreeNode(<span class="number">3</span>);</span><br><span class="line">        TreeNode node4 = <span class="keyword">new</span> TreeNode(<span class="number">4</span>);</span><br><span class="line">        node1.left = node2;</span><br><span class="line">        node1.right = node3;</span><br><span class="line">        node3.left = node4;</span><br><span class="line"></span><br><span class="line">        System.out.print(<span class="string">&quot;å‰åº&quot;</span>);</span><br><span class="line">        preOrder(node1);</span><br><span class="line">        <span class="keyword">for</span> (TreeNode node : preList) &#123;</span><br><span class="line">            System.out.print(node.val + <span class="string">&quot; &quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        System.out.println();</span><br><span class="line"></span><br><span class="line">        System.out.print(<span class="string">&quot;ä¸­åº&quot;</span>);</span><br><span class="line">        inOrder(node1);</span><br><span class="line">        <span class="keyword">for</span> (TreeNode node : inList) &#123;</span><br><span class="line">            System.out.print(node.val + <span class="string">&quot; &quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        System.out.println();</span><br><span class="line"></span><br><span class="line">        System.out.print(<span class="string">&quot;ååº&quot;</span>);</span><br><span class="line">        postOrder(node1);</span><br><span class="line">        <span class="keyword">for</span> (TreeNode node : postList) &#123;</span><br><span class="line">            System.out.print(node.val + <span class="string">&quot; &quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        System.out.println();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h5 id="éé€’å½’"><a href="#éé€’å½’" class="headerlink" title="éé€’å½’"></a>éé€’å½’</h5><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">TreeTraverse2</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">static</span> List&lt;TreeNode&gt; preList = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">    <span class="keyword">static</span> List&lt;TreeNode&gt; inList = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">    <span class="keyword">static</span> List&lt;TreeNode&gt; postList = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">preOrder</span><span class="params">(TreeNode root)</span> </span>&#123;</span><br><span class="line">        Stack&lt;TreeNode&gt; stack = <span class="keyword">new</span> Stack&lt;&gt;();</span><br><span class="line">        <span class="keyword">while</span> (root != <span class="keyword">null</span> || !stack.isEmpty()) &#123;</span><br><span class="line">            <span class="keyword">while</span> (root != <span class="keyword">null</span>) &#123;</span><br><span class="line">                preList.add(root);</span><br><span class="line">                stack.push(root);</span><br><span class="line">                root = root.left;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span> (!stack.isEmpty()) &#123;</span><br><span class="line">                root = stack.pop();</span><br><span class="line">                root = root.right;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">inOrder</span><span class="params">(TreeNode root)</span> </span>&#123;</span><br><span class="line">        Stack&lt;TreeNode&gt; stack = <span class="keyword">new</span> Stack&lt;&gt;();</span><br><span class="line">        <span class="keyword">while</span> (root != <span class="keyword">null</span> || !stack.isEmpty()) &#123;</span><br><span class="line">            <span class="keyword">while</span> (root != <span class="keyword">null</span>) &#123;</span><br><span class="line">                stack.push(root);</span><br><span class="line">                root = root.left;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span> (!stack.isEmpty()) &#123;</span><br><span class="line">                root = stack.pop();</span><br><span class="line">                inList.add(root);</span><br><span class="line">                root = root.right;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">/*</span></span><br><span class="line"><span class="comment">     * éé€’å½’ååºéå† æ€è·¯:è¦ä¿è¯æ ¹ç»“ç‚¹åœ¨å…¶å·¦å­©å­å’Œå³å­©å­è®¿é—®ä¹‹åæ‰èƒ½è®¿é—®,å› æ­¤å¯¹äºä»»ä¸€ç»“ç‚¹p,å…ˆå°†å…¶å…¥æ ˆ.</span></span><br><span class="line"><span class="comment">     * å¦‚æœpä¸å­˜åœ¨å·¦å­©å­å’Œå³å­©å­,åˆ™å¯ç›´æ¥è®¿é—®;å¦åˆ™å°†pçš„å³å­©å­å’Œå·¦å­©å­ä¾æ¬¡å…¥æ ˆç„¶åæŠŠpçš„å·¦å³å­©å­ç»“ç‚¹èµ‹å€¼null,è¿™æ ·å°±ä¿è¯äº†æ¯æ¬¡å–æ ˆé¡¶çš„å…ƒç´ çš„æ—¶å€™</span></span><br><span class="line"><span class="comment">     * å·¦å­©å­åœ¨å³å­©å­å‰é¢è¢«è®¿é—®, å·¦å­©å­å’Œå³å­©å­éƒ½åœ¨æ ¹ç»“ç‚¹å‰é¢è¢«è®¿é—®</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">postOrder</span><span class="params">(TreeNode root)</span> </span>&#123;</span><br><span class="line">        Stack&lt;TreeNode&gt; stack = <span class="keyword">new</span> Stack&lt;&gt;();</span><br><span class="line">        <span class="keyword">while</span> (root != <span class="keyword">null</span> || !stack.isEmpty()) &#123;</span><br><span class="line">            <span class="keyword">while</span> (root != <span class="keyword">null</span>) &#123;</span><br><span class="line">                stack.push(root);</span><br><span class="line">                root = root.left;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">boolean</span> tag = <span class="keyword">true</span>;</span><br><span class="line">            TreeNode preNode = <span class="keyword">null</span>;</span><br><span class="line">            <span class="keyword">while</span> (!stack.isEmpty() &amp;&amp; tag == <span class="keyword">true</span>) &#123;</span><br><span class="line">                root = stack.peek();</span><br><span class="line">                <span class="keyword">if</span> (root.right == preNode) &#123;</span><br><span class="line">                    root = stack.pop();</span><br><span class="line">                    postList.add(root);</span><br><span class="line">                    <span class="keyword">if</span> (stack.isEmpty()) &#123;</span><br><span class="line">                        <span class="keyword">return</span>;</span><br><span class="line">                    &#125;<span class="keyword">else</span> &#123;</span><br><span class="line">                        preNode = root;</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;<span class="keyword">else</span> &#123;</span><br><span class="line">                    root = root.right;</span><br><span class="line">                    tag = <span class="keyword">false</span>;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        TreeNode node1 = <span class="keyword">new</span> TreeNode(<span class="number">1</span>);</span><br><span class="line">        TreeNode node2 = <span class="keyword">new</span> TreeNode(<span class="number">2</span>);</span><br><span class="line">        TreeNode node3 = <span class="keyword">new</span> TreeNode(<span class="number">3</span>);</span><br><span class="line">        TreeNode node4 = <span class="keyword">new</span> TreeNode(<span class="number">4</span>);</span><br><span class="line">        node1.left = node2;</span><br><span class="line">        node1.right = node3;</span><br><span class="line">        node3.left = node4;</span><br><span class="line"></span><br><span class="line">        System.out.print(<span class="string">&quot;å‰åº&quot;</span>);</span><br><span class="line">        preOrder(node1);</span><br><span class="line">        <span class="keyword">for</span> (TreeNode node : preList) &#123;</span><br><span class="line">            System.out.print(node.val + <span class="string">&quot; &quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        System.out.println();</span><br><span class="line"></span><br><span class="line">        System.out.print(<span class="string">&quot;ä¸­åº&quot;</span>);</span><br><span class="line">        inOrder(node1);</span><br><span class="line">        <span class="keyword">for</span> (TreeNode node : inList) &#123;</span><br><span class="line">            System.out.print(node.val + <span class="string">&quot; &quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        System.out.println();</span><br><span class="line"></span><br><span class="line">        System.out.print(<span class="string">&quot;ååº&quot;</span>);</span><br><span class="line">        postOrder(node1);</span><br><span class="line">        <span class="keyword">for</span> (TreeNode node : postList) &#123;</span><br><span class="line">            System.out.print(node.val + <span class="string">&quot; &quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        System.out.println();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h5 id="è¡¥ï¼šå±‚æ¬¡éå†éé€’å½’"><a href="#è¡¥ï¼šå±‚æ¬¡éå†éé€’å½’" class="headerlink" title="è¡¥ï¼šå±‚æ¬¡éå†éé€’å½’"></a>è¡¥ï¼šå±‚æ¬¡éå†éé€’å½’</h5><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">//1</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="keyword">public</span> List&lt;List&lt;Integer&gt;&gt; levelOrder(TreeNode root) &#123;</span><br><span class="line">        List&lt;List&lt;Integer&gt;&gt; res = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">        <span class="keyword">if</span>(root == <span class="keyword">null</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> res;</span><br><span class="line">        &#125;</span><br><span class="line">        Queue&lt;TreeNode&gt; q = <span class="keyword">new</span> LinkedList&lt;&gt;();</span><br><span class="line">        q.offer(root);</span><br><span class="line">        <span class="keyword">while</span>(!q.isEmpty()) &#123;</span><br><span class="line">            List&lt;Integer&gt; temp = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">            <span class="keyword">int</span> size = q.size();</span><br><span class="line"></span><br><span class="line">            <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; size; i++) &#123;</span><br><span class="line">                TreeNode node = q.poll();</span><br><span class="line">                temp.add(node.val);</span><br><span class="line">                <span class="keyword">if</span>(node.left != <span class="keyword">null</span>) q.offer(node.left);</span><br><span class="line">                <span class="keyword">if</span>(node.right != <span class="keyword">null</span>) q.offer(node.right);</span><br><span class="line">            &#125;</span><br><span class="line">            res.add(temp);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> res;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//2æ¥è‡ªåºåˆ—åŒ–é¢˜ä¸­ï¼ˆä¸ç”¨åˆ†å±‚ï¼‰</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> String <span class="title">serialize</span><span class="params">(TreeNode root)</span> </span>&#123;</span><br><span class="line">    String str = <span class="string">&quot;&quot;</span>;</span><br><span class="line">    <span class="keyword">if</span> (root == <span class="keyword">null</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> str;</span><br><span class="line">    &#125;</span><br><span class="line">    Queue&lt;TreeNode&gt; q = <span class="keyword">new</span> LinkedList&lt;&gt;();</span><br><span class="line">    q.add(root);</span><br><span class="line">    <span class="keyword">while</span> (!q.isEmpty()) &#123;</span><br><span class="line">        TreeNode cur = q.remove();</span><br><span class="line">        <span class="keyword">if</span> (cur == <span class="keyword">null</span>) &#123;</span><br><span class="line">            str += <span class="string">&quot;null,&quot;</span>;</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            str += cur.val + <span class="string">&quot;,&quot;</span>;</span><br><span class="line">            q.add(cur.left);</span><br><span class="line">            q.add(cur.right);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> str;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
  </entry>
  <entry>
    <title>æ ‘é™¤éå†å¤–çš„ä¸€äº›éªšï¼ˆæœ€åçš„ğŸŸï¼‰</title>
    <url>/2020/08/27/%E6%A0%91%E9%99%A4%E9%81%8D%E5%8E%86%E5%A4%96%E7%9A%84%E4%B8%80%E4%BA%9B%E9%AA%9A%EF%BC%88%E6%9C%80%E5%90%8E%E7%9A%84%F0%9F%90%9F%EF%BC%89/</url>
    <content><![CDATA[<hr>
<span id="more"></span>

<h5 id="100-Same-Tree"><a href="#100-Same-Tree" class="headerlink" title="100. Same Tree"></a>100. Same Tree</h5><pre><code> åˆ¤æ–­ä¿©æ ‘æ˜¯ä¸æ˜¯ä¸€æ ·çš„
</code></pre>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">isSameTree</span><span class="params">(TreeNode p, TreeNode q)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(p == <span class="keyword">null</span> &amp;&amp; q == <span class="keyword">null</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span>(p != <span class="keyword">null</span> &amp;&amp; q == <span class="keyword">null</span> || p == <span class="keyword">null</span> &amp;&amp; q != <span class="keyword">null</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">        &#125;</span><br><span class="line">       </span><br><span class="line">        <span class="keyword">if</span>(p.val != q.val) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">        &#125;<span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="keyword">return</span> isSameTree(p.left, q.left) &amp;&amp; isSameTree(p.right, q.right);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h5 id="101-Symmetric-Tree"><a href="#101-Symmetric-Tree" class="headerlink" title="101. Symmetric Tree"></a>101. Symmetric Tree</h5><pre><code> åˆ¤æ–­ä¸€ä¸ªæ ‘æ˜¯ä¸æ˜¯å¯¹ç§°çš„
</code></pre>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">isSymmetric</span><span class="params">(TreeNode root)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(root == <span class="keyword">null</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="keyword">return</span> checkLR(root.left, root.right);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">checkLR</span><span class="params">(TreeNode l, TreeNode r)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(l == <span class="keyword">null</span> &amp;&amp; r == <span class="keyword">null</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span>(l != <span class="keyword">null</span> &amp;&amp; r != <span class="keyword">null</span> &amp;&amp; l.val == r.val) &#123;</span><br><span class="line">            <span class="keyword">return</span> checkLR(l.left, r.right) &amp;&amp; checkLR(l.right, r.left);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h5 id="226-Invert-Binary-Tree"><a href="#226-Invert-Binary-Tree" class="headerlink" title="226. Invert Binary Tree"></a>226. Invert Binary Tree</h5><pre><code>ç¿»è½¬ä¸€ä¸ªäºŒå‰æ ‘
</code></pre>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> TreeNode <span class="title">invertTree</span><span class="params">(TreeNode root)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (root == <span class="keyword">null</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">null</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        TreeNode left = invertTree(root.left);</span><br><span class="line">        TreeNode right = invertTree(root.right);</span><br><span class="line">        swapTreeNodes(root, left, right);</span><br><span class="line">        <span class="keyword">return</span> root;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">swapTreeNodes</span><span class="params">(TreeNode root, TreeNode left, TreeNode right)</span> </span>&#123;</span><br><span class="line">        root.left = right;</span><br><span class="line">        root.right = left;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h5 id="235-Lowest-Common-Ancestor-of-a-Binary-Search-Tree"><a href="#235-Lowest-Common-Ancestor-of-a-Binary-Search-Tree" class="headerlink" title="235. Lowest Common Ancestor of a Binary Search Tree"></a>235. Lowest Common Ancestor of a Binary Search Tree</h5><pre><code> äºŒå‰æ ‘(æœ‰åº)çš„LCA
</code></pre>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> TreeNode <span class="title">lowestCommonAncestor</span><span class="params">(TreeNode root, TreeNode p, TreeNode q)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (root == <span class="keyword">null</span> || root == p || root == q) &#123;</span><br><span class="line">            <span class="keyword">return</span> root;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (root.val &gt; p.val &amp;&amp; root.val &gt; q.val) &#123;</span><br><span class="line">            <span class="keyword">return</span> lowestCommonAncestor(root.left, p, q);</span><br><span class="line">        &#125;<span class="keyword">else</span> <span class="keyword">if</span> (root.val &lt; p.val &amp;&amp; root.val &lt; q.val) &#123;</span><br><span class="line">            <span class="keyword">return</span> lowestCommonAncestor(root.right, p, q);</span><br><span class="line">        &#125;<span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="keyword">return</span> root;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h5 id="236-Lowest-Common-Ancestor-of-a-Binary-Tree"><a href="#236-Lowest-Common-Ancestor-of-a-Binary-Tree" class="headerlink" title="236. Lowest Common Ancestor of a Binary Tree"></a>236. Lowest Common Ancestor of a Binary Tree</h5><pre><code> äºŒå‰æ ‘(æ— åº)çš„LCA
</code></pre>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> TreeNode <span class="title">lowestCommonAncestor</span><span class="params">(TreeNode root, TreeNode p, TreeNode q)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (root == <span class="keyword">null</span>) <span class="keyword">return</span> <span class="keyword">null</span>;</span><br><span class="line">       </span><br><span class="line">        <span class="keyword">if</span> (root == p || root == q) &#123;</span><br><span class="line">            <span class="keyword">return</span> root;</span><br><span class="line">        &#125;</span><br><span class="line">       </span><br><span class="line">        TreeNode left = lowestCommonAncestor(root.left, p, q);</span><br><span class="line">        TreeNode right = lowestCommonAncestor(root.right, p, q);</span><br><span class="line">       </span><br><span class="line">        <span class="keyword">if</span> (left != <span class="keyword">null</span> &amp;&amp; right != <span class="keyword">null</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> root;</span><br><span class="line">        &#125;</span><br><span class="line">     </span><br><span class="line">        <span class="keyword">return</span> left != <span class="keyword">null</span> ? left : right != <span class="keyword">null</span> ? right : <span class="keyword">null</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
  </entry>
  <entry>
    <title>ç¾å¦™çš„éšæœºæ•°å’Œå®‡å®™ğŸŒŒ</title>
    <url>/2021/04/21/%E7%BE%8E%E5%A6%99%E7%9A%84%E9%9A%8F%E6%9C%BA%E6%95%B0%E5%92%8C%E5%AE%87%E5%AE%99%F0%9F%8C%8C/</url>
    <content><![CDATA[<hr>
<p>æœ€è¿‘çš„äº¤äº†WWDC2021ä½œå“ï¼Œç„¶åæˆ‘å‡‘å·§é€šè¿‡ä¼ªéšæœºæ•°ç”Ÿæˆä¸€ä¸ªSkyBoxï¼Œè¯´ä¸€ä¸‹æ€è·¯å˜¿å˜¿</p>
<span id="more"></span>

<h5 id="æœ€è¿‘çš„äº¤äº†WWDC2021ä½œå“ï¼Œç„¶åæˆ‘å‡‘å·§é€šè¿‡ä¼ªéšæœºæ•°ç”Ÿæˆä¸€ä¸ªSkyBoxï¼Œè¯´ä¸€ä¸‹æ€è·¯å˜¿å˜¿"><a href="#æœ€è¿‘çš„äº¤äº†WWDC2021ä½œå“ï¼Œç„¶åæˆ‘å‡‘å·§é€šè¿‡ä¼ªéšæœºæ•°ç”Ÿæˆä¸€ä¸ªSkyBoxï¼Œè¯´ä¸€ä¸‹æ€è·¯å˜¿å˜¿" class="headerlink" title="æœ€è¿‘çš„äº¤äº†WWDC2021ä½œå“ï¼Œç„¶åæˆ‘å‡‘å·§é€šè¿‡ä¼ªéšæœºæ•°ç”Ÿæˆä¸€ä¸ªSkyBoxï¼Œè¯´ä¸€ä¸‹æ€è·¯å˜¿å˜¿"></a>æœ€è¿‘çš„äº¤äº†WWDC2021ä½œå“ï¼Œç„¶åæˆ‘å‡‘å·§é€šè¿‡ä¼ªéšæœºæ•°ç”Ÿæˆä¸€ä¸ªSkyBoxï¼Œè¯´ä¸€ä¸‹æ€è·¯å˜¿å˜¿</h5><p>ç„¶åè¿™ç¯‡æ–‡ä¸»è¦æ˜¯å†™ç»™æœ‰äº†è§£è¿‡Ray Tracing in one weekendçœ‹çš„<br>ä¸‹é¢ä»£ç éƒ½æ˜¯Metal<br>è¿™ä¸ªéšæœºä¹¦ç®—æ³•æ˜¯ä»StackOverflowæ‹¿è¿‡æ¥çš„ï¼Œæ—¥å¸¸CVå˜¿å˜¿ï¼Œä½†æ˜¯åŸå›ç­”æ²¡è¯´æ€ä¹ˆç”¨ï¼Œè¿™å‡ æˆ‘å§‘ä¸”æŠŠxå’Œyç®—ä½œå±å¹•åƒç´ çš„texturecoordçš„xå’Œy<br>zæ˜¯ä»CPUé‚£è¾¹bufferè¿‡æ¥çš„æ—¶é’Ÿä¿¡å·ï¼Œä¸»è¦æ˜¯æ¯ä¸€å¸§èƒ½z+1å°±å¥½äº†</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="comment">// Generate a random float in the range [0.0f, 1.0f] using x, y, and z (based on the xor128 algorithm)</span></span><br><span class="line"><span class="function"><span class="keyword">float</span> <span class="title">randomer_gen_float</span><span class="params">(thread <span class="keyword">const</span> uint2&amp; position, <span class="keyword">int</span> z)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> seed = position.x + position.y * <span class="number">57</span> + z * <span class="number">241</span>;</span><br><span class="line">    seed= (seed&lt;&lt; <span class="number">13</span>) ^ seed;</span><br><span class="line">    <span class="keyword">return</span> (( <span class="number">1.0</span> - ( (seed * (seed * seed * <span class="number">15731</span> + <span class="number">789221</span>) + <span class="number">1376312589</span>) &amp; <span class="number">2147483647</span>) / <span class="number">1073741824.0f</span>) + <span class="number">1.0f</span>) / <span class="number">2.0f</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>è¿™é‡Œå†™äº†ä¸€ä¸ªSkyBoxçš„Materialï¼Œå‚æ•°ä»€ä¹ˆçš„å§‘ä¸”ä¸çœ‹ï¼Œ<br>ä¸»è¦æ˜¯cï¼šå’ŒåŸä¹¦ä¸­ç”Ÿæˆå¤©ç©ºæ¸å˜è‰²ä¸€æ ·<br>     float rdæ˜¯vec3çš„ä¸‰ç»´éšæœºæ•°ï¼Œåˆ«å¿˜äº†zè¦+1ã€+2ï¼Œä¸ç„¶ä¸€ä¸ªåƒç´ å†…çš„æ—¶é—´ç§å­zæ˜¯ä¸€æ ·çš„<br>     powæ˜¯æ»¤æ³¢ï¼Œéœ€è¦æŠŠrdä¸­åå‘ç°ç™½è‰²çš„åƒç´ è¿‡æ»¤æ‰ï¼Œåªç•™ä¸‹å‘äº®çš„æ˜Ÿæ˜Ÿâœ¨ï¼ŒæŠŠâœ¨ç»™æˆ‘ä»¬çš„starï¼Œç„¶åSkyBoxè¿™æ”¯Materialä¼šåå°„å›å»</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">SkyBox</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="built_in">SkyBox</span>() &#123;&#125;</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">bool</span> <span class="title">radiate</span><span class="params">(thread <span class="keyword">const</span> Ray&amp; r_in,</span></span></span><br><span class="line"><span class="function"><span class="params">                 thread <span class="keyword">const</span> HitRecord&amp; rec,</span></span></span><br><span class="line"><span class="function"><span class="params">                 thread float3&amp; attenuation,</span></span></span><br><span class="line"><span class="function"><span class="params">                 thread Ray&amp; radiated,</span></span></span><br><span class="line"><span class="function"><span class="params">                 thread <span class="keyword">const</span> uint2&amp; position, <span class="keyword">float</span> seed)</span> <span class="keyword">const</span> </span>&#123;</span><br><span class="line">        float3 unit_direction = <span class="built_in">unit_vector</span>(r_in.<span class="built_in">direction</span>());</span><br><span class="line">        <span class="keyword">float</span> t = <span class="number">0.9f</span>*(unit_direction.y + <span class="number">1.0f</span>);</span><br><span class="line">        float3 c = (<span class="number">1.0f</span>-t)*<span class="built_in">float3</span>(<span class="number">0.53</span>, <span class="number">0.5</span>, <span class="number">0.4</span>) + t*<span class="built_in">float3</span>(<span class="number">0.05</span>, <span class="number">0.05</span>, <span class="number">0.05</span>); <span class="comment">// space background</span></span><br><span class="line">        <span class="keyword">float</span> gradient = <span class="number">4</span>;</span><br><span class="line">        <span class="keyword">float</span> rd = <span class="built_in">pow</span>(<span class="built_in">randomer_gen_float</span>(<span class="built_in">uint2</span>(gradient*<span class="built_in">abs</span>(rec.p.x), gradient*<span class="built_in">abs</span>(rec.p.y)), gradient*<span class="built_in">abs</span>(rec.p.x+rec.p.y+rec.p.z)), <span class="number">1000</span>);</span><br><span class="line">        float3 star = <span class="built_in">float3</span>(rd, rd, rd<span class="number">-0.01</span>);</span><br><span class="line">        float3 reflected = <span class="built_in">reflect</span>(<span class="built_in">unit_vector</span>(r_in.<span class="built_in">direction</span>()), rec.normal);</span><br><span class="line">        radiated = <span class="built_in">Ray</span>(rec.p, reflected);</span><br><span class="line">        attenuation = star + c;</span><br><span class="line">        attenuation *= <span class="number">2.5</span>;</span><br><span class="line">        <span class="keyword">return</span> (<span class="built_in">dot</span>(radiated.<span class="built_in">direction</span>(), rec.normal) &lt; <span class="number">0</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<p>æœ€åå°±æ˜¯å› ä¸ºè¿™æ”¯SkyBoxæ˜¯å¤©ç©ºç›’ï¼Œç›¸æœºåœ¨é‡Œé¢ï¼Œéœ€è¦æŠŠåå°„çš„æ–¹å‘å–ä¸ªåï¼Œè¿™è¡Œä»£ç æ‰€åœ¨ä½ç½®ç›¸å½“äºä¹¦é‡Œçš„ray_coloré‡Œï¼Œæˆ‘çš„å†™æ³•é‡Œçš„cur_rayæ˜¯å»æ‰äº†é€’å½’ï¼Œå¾ªç¯çš„å†™æ³•</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line">cur_ray = <span class="built_in">Ray</span>(radiated.orig, -radiated.<span class="built_in">direction</span>());</span><br></pre></td></tr></table></figure>
<h5 id="çœ‹çœ‹æ•ˆæœå’¯"><a href="#çœ‹çœ‹æ•ˆæœå’¯" class="headerlink" title="çœ‹çœ‹æ•ˆæœå’¯"></a>çœ‹çœ‹æ•ˆæœå’¯</h5><img src="/2021/04/21/%E7%BE%8E%E5%A6%99%E7%9A%84%E9%9A%8F%E6%9C%BA%E6%95%B0%E5%92%8C%E5%AE%87%E5%AE%99%F0%9F%8C%8C/%E7%BE%8E%E5%A6%99%E7%9A%84%E9%9A%8F%E6%9C%BA%E6%95%B0%E5%92%8C%E5%AE%87%E5%AE%99%F0%9F%8C%8C_1.jpg" class="" title="ç¾å¦™çš„éšæœºæ•°å’Œå®‡å®™ğŸŒŒ_1">]]></content>
  </entry>
  <entry>
    <title>èƒŒåŒ…é—®é¢˜ï¼ˆ01å®Œå…¨å¤šé‡ï¼‰</title>
    <url>/2019/03/12/%E8%83%8C%E5%8C%85%E9%97%AE%E9%A2%98%EF%BC%8801%E5%AE%8C%E5%85%A8%E5%A4%9A%E9%87%8D%EF%BC%89/</url>
    <content><![CDATA[<hr>
<span id="more"></span>

<h1 id="èƒŒåŒ…é—®é¢˜ï¼ˆ01-å®Œå…¨-å¤šé‡ï¼‰"><a href="#èƒŒåŒ…é—®é¢˜ï¼ˆ01-å®Œå…¨-å¤šé‡ï¼‰" class="headerlink" title="èƒŒåŒ…é—®é¢˜ï¼ˆ01/å®Œå…¨/å¤šé‡ï¼‰"></a>èƒŒåŒ…é—®é¢˜ï¼ˆ01/å®Œå…¨/å¤šé‡ï¼‰</h1><p>èƒŒåŒ…é—®é¢˜æ˜¯åŠ¨æ€è§„åˆ’é‡Œç»å…¸çš„é—®é¢˜ï¼šå°±æˆ‘ä¸ªäººç†è§£ï¼ŒåŠ¨æ€è§„åˆ’æ˜¯ä¸€ç§ä¸ä¸Šä¸€ä¸ªçŠ¶æ€ç›¸å…³çš„ç®—æ³•ï¼Œè€Œä¸”æ¯ä¸€ä¸ªå­—é—®é¢˜æœ‰ç±»ä¼¼çš„é€‰å’Œä¸é€‰çš„çŠ¶æ€ï¼Œä¼šå½±å“ä¸Šä¸€ä¸ªçŠ¶æ€ï¼Œæ•´ä¸ªé€’å½’çš„çŠ¶æ€æ˜¯ç±»ä¼¼æ ‘çš„ç»“æ„ï¼Œå¦‚é€’å½’çš„æ–æ³¢é‚£å¥‘ã€‚</p>
<p>01èƒŒåŒ…ï¼šæœ‰Nç§ç‰©å“å’Œä¸€ä¸ªå®¹é‡ä¸ºVçš„èƒŒåŒ…ï¼Œæ¯ç§ç‰©å“åªæœ‰ä¸€ä¸ªã€‚ç¬¬iç§ç‰©å“çš„è´¹ç”¨æ˜¯c[i]ï¼Œä»·å€¼æ˜¯w[i]ã€‚æ±‚è§£å°†å“ªäº›ç‰©å“è£…å…¥èƒŒåŒ…å¯ä½¿è¿™äº›ç‰©å“çš„è´¹ç”¨æ€»å’Œä¸è¶…è¿‡èƒŒåŒ…å®¹é‡ï¼Œä¸”ä»·å€¼æ€»å’Œæœ€å¤§ã€‚</p>
<p>è¿™ä¸ªæ˜¯æœ€åŸºæœ¬çš„èƒŒåŒ…é—®é¢˜ï¼Œæ¯ä¸€ä¸ªå­çŠ¶æ€åªæœ‰é€‰å’Œä¸é€‰ï¼Œå¯ä»¥é€’å½’æ±‚è§£ï¼Œä½†è¿™æ ·å¼€é”€æ˜¯2^n,å¯ä»¥ç”¨æ»šåŠ¨æ•°ç»„ä¼˜åŒ–ã€‚</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cmath&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;string&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> maxn = <span class="number">2000</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> w[maxn], c[maxn], n[maxn];<span class="comment">//ä»·å€¼ï¼Œä½“ç§¯ï¼Œä¸ªæ•°</span></span><br><span class="line"><span class="keyword">int</span> N;<span class="comment">//ç‰©å“ä¸ªæ•°</span></span><br><span class="line"><span class="keyword">int</span> V;<span class="comment">//èƒŒåŒ…ä½“ç§¯</span></span><br><span class="line"><span class="keyword">int</span> dp[maxn];</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">zero_one</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; N; i++)&#123;<span class="comment">//æšä¸¾Nä¸ªç‰©ä½“</span></span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> j = V; j &gt;= c[i]; j--)&#123;<span class="comment">//èƒŒåŒ…å®¹é‡åˆ°ç¬¬Iä¸ªç‰©å“çš„è´¹ç”¨ï¼Œä¸€å®šè¦é€’å‡</span></span><br><span class="line">           <span class="comment">//è¿™æ ·æ„æ€æ˜¯jå®¹é‡æƒ…å†µä¸‹çš„èƒŒåŒ…åœ¨æ”¾/ä¸æ”¾ciä¸ªç‰©å“æ±‚æœ€å¤§ä»·å€¼</span></span><br><span class="line">           dp[j] = <span class="built_in">max</span>(dp[j], dp[j - c[i]] + w[i]);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>å®Œå…¨èƒŒåŒ…ï¼šæœ‰Nç§ç‰©å“å’Œä¸€ä¸ªå®¹é‡ä¸ºVçš„èƒŒåŒ…ï¼Œæ¯ç§ç‰©å“éƒ½æœ‰æ— é™ä»¶å¯ç”¨ã€‚ç¬¬iç§ç‰©å“çš„è´¹ç”¨æ˜¯c[i]ï¼Œä»·å€¼æ˜¯w[i]ã€‚æ±‚è§£å°†å“ªäº›ç‰©å“è£…å…¥èƒŒåŒ…å¯ä½¿è¿™äº›ç‰©å“çš„è´¹ç”¨æ€»å’Œä¸è¶…è¿‡èƒŒåŒ…å®¹é‡ï¼Œä¸”ä»·å€¼æ€»å’Œæœ€å¤§ã€‚</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cmath&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;string&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> maxn = <span class="number">2000</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> w[maxn], c[maxn], n[maxn];<span class="comment">//ä»·å€¼ï¼Œä½“ç§¯ï¼Œä¸ªæ•°</span></span><br><span class="line"><span class="keyword">int</span> N;<span class="comment">//ç‰©å“ä¸ªæ•°</span></span><br><span class="line"><span class="keyword">int</span> V;<span class="comment">//èƒŒåŒ…ä½“ç§¯</span></span><br><span class="line"><span class="keyword">int</span> dp[maxn];</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">complete</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; N; i++)&#123;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> j = c[i]; j &lt;= V; j++)&#123;</span><br><span class="line">            <span class="comment">//è¿™é‡Œç”¨é€’å‡å°±å¯ä»¥æ¸ é“ä¸æ­¢ä¸€æ¬¡ciä»¶ç‰©å“ï¼Œåªè¦ä¸è¶…è¿‡V</span></span><br><span class="line">            <span class="comment">//åªæ˜¯01çš„å€’è¿‡æ¥</span></span><br><span class="line">            dp[j] = <span class="built_in">max</span>(dp[j], dp[j - c[i]] + w[i]);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>å¤šé‡èƒŒåŒ…ï¼šæœ‰Nç§ç‰©å“å’Œä¸€ä¸ªå®¹é‡ä¸ºVçš„èƒŒåŒ…ã€‚ç¬¬iç§ç‰©å“æœ€å¤šæœ‰n[i]ä»¶å¯ç”¨ï¼Œæ¯ä»¶è´¹ç”¨æ˜¯c[i]ï¼Œä»·å€¼æ˜¯w[i]ã€‚æ±‚è§£å°†å“ªäº›ç‰©å“è£…å…¥èƒŒåŒ…å¯ä½¿è¿™äº›ç‰©å“çš„è´¹ç”¨æ€»å’Œä¸è¶…è¿‡èƒŒåŒ…å®¹é‡ï¼Œä¸”ä»·å€¼æ€»å’Œæœ€å¤§ã€‚</p>
<p>è¿™é‡Œç”¨äº†ä¸€ä¸ªå·§å¦™çš„æ€æƒ³è½¬åŒ–ä¸º01èƒŒåŒ…é—®é¢˜ã€‚</p>
<p>å‡å¦‚ç»™äº†ä»·å€¼ä¸º2ï¼Œä½†æ˜¯æ•°é‡10çš„ç‰©å“ï¼Œåº”è¯¥æŠŠ10è¿›è¡ŒäºŒè¿›åˆ¶æ‹†åˆ†ï¼Œæ‰€ä»¥10å°±æ˜¯å¯ä»¥æœ‰1ï¼Œ2, 4ï¼Œ8ä¹‹å†…çš„æ•°æŠŠå®ƒç»„æˆï¼Œä¸€å¼€å§‹é€‰1ï¼Œç„¶å10-1=9ï¼Œå†é€‰ä¸Š,ç„¶å9-2=7ï¼Œå†é€‰4,ç„¶å7-4=3ï¼Œç»“æœï¼š10ç”± 1,2,4,3ç»„æˆ<br>ç»“æœï¼šä»·å€¼ä¸º2ï¼Œæ•°é‡æ˜¯10çš„è¿™æ‰¹è´§ç‰©ï¼Œè½¬åŒ–æˆäº†ä»·å€¼åˆ†åˆ«æ˜¯2,4,6,8å…ƒçš„è´§ç‰©äº†è€Œä¸”åªæœ‰ä¸€ä¸ªï¼Œè¿™å°±æ˜¯äºŒè¿›åˆ¶ä¼˜åŒ–ã€‚</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cmath&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;string&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> maxn = <span class="number">2000</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> w[maxn], c[maxn], n[maxn];<span class="comment">//ä»·å€¼ï¼Œä½“ç§¯ï¼Œä¸ªæ•°</span></span><br><span class="line"><span class="keyword">int</span> N;<span class="comment">//ç‰©å“ä¸ªæ•°</span></span><br><span class="line"><span class="keyword">int</span> V;<span class="comment">//èƒŒåŒ…ä½“ç§¯</span></span><br><span class="line"><span class="keyword">int</span> dp[maxn];</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">multiple</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; N; i++)&#123;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> k = <span class="number">1</span>; k &lt; n[i]; n[i] -= k, k&lt;&lt;=<span class="number">1</span>)&#123;<span class="comment">//kå·¦ç§»</span></span><br><span class="line">            <span class="keyword">for</span>(<span class="keyword">int</span> j = V; j &gt;= k*c[i]; j--)&#123;</span><br><span class="line">                <span class="comment">//æ¯æ¬¡å˜ä¸ºkä¸ªè´¨é‡ciç‰©å“</span></span><br><span class="line">                dp[j] = <span class="built_in">max</span>(dp[j], dp[j - k*c[i]] + k*w[i]);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">//æœ€åä¸€å±‚01</span></span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> j = V; j &gt;= n[i]*c[i]; j--)&#123;</span><br><span class="line">            dp[j] = <span class="built_in">max</span>(dp[j], dp[j - n[i]*c[i]] + n[i]*w[i]);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

]]></content>
  </entry>
</search>
